import{a as gt,r as d,j as e,C as me,D as Vr,c as fn}from"./dollar-sign-vCdEEM7V.js";import{C as z,a as U,N as Kr,b as te,B as xe,A as Jr,c as Gr,P as Nt,d as ge,e as je,T as Lt,X as cr,f as qr,g as xn,h as gn,i as pn,j as St,k as Et,E as Yr,L as dr,o as Ht,l as ur,m as Bt,M as bn,z as Ie,F as le,G as se,H as ie,J as vn,K as Xt,O as he,Q as Xr,R as wn,U as yn,V as mr,W as Zt,Y as jn,Z as kn,_ as Ke,n as Nn,D as Sn,p as En,q as Cn,r as Tn,S as An,s as Pn,t as Zr,u as hr,v as fr,w as xr,x as gr,I as pr,y as Rn}from"./label-BhP5HlEg.js";import{m as k,R as ct,C as ze,W as _n,a as Mn}from"./wallet-BGuEPEnM.js";import{A as Ae,M as Pe,C as oe,a as dt,P as br,b as Dn,T as On,S as In,c as Ln,B as Qr}from"./target-BdWsDL-O.js";import{T as vr}from"./trending-up-CO9fHvtZ.js";import{U as Ft,H as Hn}from"./user-BX9MSCbz.js";import{F as Bn}from"./file-text-FTIbtVfz.js";const Fn=gt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ea=gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$n=gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Wn=gt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function wr({userData:t}){var W,L,$,V,re,K,Y,O,Q;const[a,r]=d.useState(new Date),[n,s]=d.useState(null),[o,i]=d.useState([]),[l,u]=d.useState(!0),[c,x]=d.useState(null),[p,v]=d.useState(!0),[w,j]=d.useState(null),[h,m]=d.useState(!1),b=async(S=!1)=>{var F,_,H,q,X,B,T,I,ee,D;try{v(!0);const M=((F=document.querySelector('meta[name="csrf-token"]'))==null?void 0:F.getAttribute("content"))||"",G=((_=document.querySelector('meta[name="api-token"]'))==null?void 0:_.getAttribute("content"))||"",J={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":M};G&&(J.Authorization=`Bearer ${G}`);const ne=await fetch("/test-paramedis-dashboard-api",{credentials:"include",headers:J});if(ne.ok){const ce=await ne.json(),ae=ce.success?ce.data:ce;if(ae){const ve=(q=(H=ae.user)==null?void 0:H.work_location)==null?void 0:q.updated_at;ve&&ve!==w&&(console.log("ðŸ”„ Work location updated detected:",ve),j(ve),w&&console.log("ðŸ“ Location data refreshed automatically"));const Oe={stats:{jaspel_month:ae.jaspel_monthly||((X=ae.stats)==null?void 0:X.jaspel_month)||0,jaspel_last_month:ae.last_month_total||((B=ae.stats)==null?void 0:B.jaspel_last_month)||0,jaspel_growth_percent:ae.growth_percent||((T=ae.stats)==null?void 0:T.jaspel_growth_percent)||0,patients_today:((I=ae.stats)==null?void 0:I.patients_today)||0,tindakan_today:((ee=ae.stats)==null?void 0:ee.tindakan_today)||0,shifts_week:((D=ae.stats)==null?void 0:D.shifts_week)||0},user:ae.user||{name:ae.paramedis_name||"Loading..."},performance:ae.performance||{}};x(Oe),console.log("âœ… Dashboard data loaded successfully")}}else console.error("Failed to fetch dashboard stats:",ne.status,ne.statusText),ne.status===401&&console.error("Authentication required. Please ensure you are logged in.")}catch(M){console.error("Error fetching dashboard stats:",M)}finally{v(!1)}},g=async()=>{m(!0),await b(!0),setTimeout(()=>m(!1),1e3)},f=async()=>{var S,F;try{u(!0),console.log("ðŸš€ PARAMEDIS: Starting schedule fetch...");const _=((S=document.querySelector('meta[name="csrf-token"]'))==null?void 0:S.getAttribute("content"))||"",H=((F=document.querySelector('meta[name="api-token"]'))==null?void 0:F.getAttribute("content"))||"",q={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":_};H&&(q.Authorization=`Bearer ${H}`,console.log("ðŸ” PARAMEDIS: Using Bearer token authentication")),console.log("ðŸ“¡ PARAMEDIS: Calling /paramedis/api/schedules endpoint...");const X=await fetch("/paramedis/api/schedules",{credentials:"include",headers:q});if(console.log("ðŸ“¨ PARAMEDIS: Response status:",X.status),console.log("ðŸ“¨ PARAMEDIS: Response headers:",Object.fromEntries(X.headers.entries())),X.ok){const B=await X.json();console.log("âœ… PARAMEDIS: Raw API response:",B),console.log("ðŸ“Š PARAMEDIS: Response type:",typeof B),console.log("ðŸ“Š PARAMEDIS: Is array:",Array.isArray(B)),console.log("ðŸ“Š PARAMEDIS: Length:",B==null?void 0:B.length),Array.isArray(B)?(i(B),console.log("âœ… PARAMEDIS: Successfully set",B.length,"schedules"),B.forEach((T,I)=>{console.log(`ðŸ“‹ PARAMEDIS: Schedule ${I+1}:`,{id:T.id,tanggal:T.tanggal,waktu:T.waktu,lokasi:T.lokasi,jenis:T.jenis,status:T.status})})):(console.error("âŒ PARAMEDIS: Response is not an array:",B),i([]))}else{const B=await X.text();console.error("âŒ PARAMEDIS: Failed to fetch schedules:",{status:X.status,statusText:X.statusText,responseText:B}),i([])}}catch(_){console.error("ðŸ”¥ PARAMEDIS: Error fetching schedules:",_),i([])}finally{u(!1),console.log("âœ… PARAMEDIS: Schedule fetch completed")}};d.useEffect(()=>{const S=setInterval(()=>{r(new Date)},1e3),F=document.querySelector('meta[name="user-data"]');if(F)try{const H=JSON.parse(F.getAttribute("content")||"{}");s(H)}catch(H){console.error("Failed to parse user data:",H)}b(),f();const _=setInterval(()=>{b(!1)},3e4);return()=>{clearInterval(S),clearInterval(_)}},[]);const y=S=>{switch(S){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white dark:from-yellow-500 dark:to-yellow-600";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 text-white dark:from-orange-500 dark:to-orange-600";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 text-white dark:from-purple-500 dark:to-purple-600";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},N=S=>new Date(S).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"}),C=S=>{switch(S){case"pagi":return"â˜€ï¸";case"siang":return"ðŸŒ¤ï¸";case"malam":return"ðŸŒ™";default:return"â°"}},E=o.length>0?o[0]:null,P={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},A={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},R=c?{attendance:{current:Math.round(((W=c.performance)==null?void 0:W.attendance_rate)||0),change:5},performance:{score:((L=c.performance)==null?void 0:L.patient_satisfaction)||92,attendance_rank:($=c.performance)==null?void 0:$.attendance_rank,total_staff:(V=c.performance)==null?void 0:V.total_staff},jaspel:{thisMonth:((re=c.stats)==null?void 0:re.jaspel_month)||0,lastMonth:((K=c.stats)==null?void 0:K.jaspel_last_month)||0,change:((Y=c.stats)==null?void 0:Y.jaspel_growth_percent)||0}}:{attendance:{current:0,change:0},performance:{attendance_rank:null,total_staff:0},jaspel:{thisMonth:0,lastMonth:0,change:0}};return console.log("ðŸŽ¯ Stats object:",{attendance_current:R.attendance.current,attendance_rate_raw:(O=c==null?void 0:c.performance)==null?void 0:O.attendance_rate,performance_data:c==null?void 0:c.performance}),e.jsxs(k.div,{variants:P,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:A,children:e.jsx(z,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Dashboard"}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:[(t==null?void 0:t.greeting)||(n==null?void 0:n.greeting)||"Selamat datang kembali",", ",(t==null?void 0:t.name)||(n==null?void 0:n.name)||"Paramedis"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Waktu Sekarang"}),e.jsx("p",{className:"text-lg font-semibold text-white text-subheading-mobile",children:a.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:a.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})})})]})]})})})}),((Q=c==null?void 0:c.user)==null?void 0:Q.work_location)&&e.jsx(k.div,{variants:A,children:e.jsx(z,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-green-50/50 dark:from-gray-900 dark:to-green-950/30 backdrop-blur-sm overflow-hidden card-enhanced",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(Kr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Lokasi Kerja"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Area validasi presensi"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(te,{onClick:g,disabled:h,variant:"outline",size:"sm",className:"h-8 px-3 text-xs hover:bg-green-50 dark:hover:bg-green-950/50 hover:border-green-200 dark:hover:border-green-700",children:[e.jsx(ct,{className:`w-3 h-3 mr-1 ${h?"animate-spin":""}`}),h?"Refresh...":"Refresh"]})})]}),e.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-r from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 rounded-xl p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 dark:bg-white/15 rounded-full -translate-y-10 translate-x-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-lg",children:c.user.work_location.name}),e.jsx(xe,{className:"bg-white/20 text-white border-white/30 text-xs",children:c.user.work_location.is_active?"âœ… Aktif":"âŒ Nonaktif"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-200 dark:text-green-300"}),e.jsx("span",{className:"text-sm text-green-100 dark:text-green-200",children:c.user.work_location.address})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-200 rounded-full"}),e.jsxs("span",{className:"text-green-100",children:["Radius: ",c.user.work_location.radius_meters,"m"]})]}),e.jsx("div",{className:"text-green-100 text-xs",children:w&&`Updated: ${new Date(w).toLocaleTimeString("id-ID")}`})]})]})})]})]})})}),e.jsx(k.div,{variants:A,children:e.jsx(z,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm overflow-hidden card-enhanced",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jadwal Jaga Berikutnya"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Shift yang akan datang"})]})]}),e.jsx(xe,{variant:"outline",className:"border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 font-medium",children:"Segera"})]}),l?e.jsx(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-gray-400 to-gray-500 dark:from-gray-600 dark:to-gray-700 rounded-xl p-5 text-white relative overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Memuat jadwal..."})]})}):E?e.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl p-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 dark:bg-white/15 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 dark:bg-white/10 rounded-full translate-y-8 -translate-x-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:C(E.jenis)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-subheading-mobile",children:N(E.tanggal)}),e.jsxs("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:["Shift ",E.jenis]})]})]}),e.jsx(xe,{className:`${y(E.jenis)} text-xs font-semibold`,children:E.jenis.charAt(0).toUpperCase()+E.jenis.slice(1)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(me,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:E.waktu})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{className:"w-4 h-4 text-blue-200 dark:text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100 dark:text-blue-200",children:E.lokasi})]})]})]})]}):e.jsx(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-r from-amber-400 to-amber-500 dark:from-amber-500 dark:to-amber-600 rounded-xl p-5 text-white relative overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Jr,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:"Tidak ada jadwal jaga"}),e.jsx("p",{className:"text-sm text-amber-100 dark:text-amber-200",children:"Hubungi admin untuk penjadwalan"})]})]})}),e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:e.jsxs(te,{variant:"outline",className:"w-full hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 group font-medium",children:[e.jsx("span",{children:"Lihat Semua Jadwal"}),e.jsx(Gr,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})})}),e.jsxs(k.div,{variants:A,className:"grid grid-cols-2 gap-4",children:[e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(ze,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Tingkat Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 text-heading-mobile",children:p?e.jsx("span",{className:"animate-pulse",children:"â³"}):`${R.attendance.current}%`})]})]}),e.jsx(Nt,{value:R.attendance.current,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(vr,{className:"w-3 h-3 text-green-500 dark:text-green-400"}),e.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["+",R.attendance.change,"%"]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"dari bulan lalu"})]})]})}),e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-high-contrast text-mobile-friendly",children:"Urutan Kehadiran"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 text-heading-mobile",children:p?e.jsx("span",{className:"animate-pulse",children:"â³"}):`#${R.performance.attendance_rank||"--"}`})]})]}),e.jsx(Nt,{value:R.performance.attendance_rank?Math.max(0,100-R.performance.attendance_rank/R.performance.total_staff*100):0,className:"h-2 mb-2"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(dt,{className:"w-3 h-3 text-blue-500 dark:text-blue-400"}),e.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["dari ",p?"...":R.performance.total_staff||0]}),e.jsx("span",{className:"text-medium-contrast font-medium",children:"paramedis"})]})]})})]}),e.jsx(k.div,{variants:A,children:e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(Vr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-high-contrast text-subheading-mobile",children:"Jaspel Bulan Ini"}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:(c==null?void 0:c.period_info)&&e.jsxs(e.Fragment,{children:["Progress ",c.period_info.month_progress,"% bulan ini"]})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 text-heading-mobile",children:["Rp ",R.jaspel.thisMonth.toLocaleString("id-ID")]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(vr,{className:"w-3 h-3 text-emerald-500 dark:text-emerald-400"}),e.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["+",R.jaspel.change,"%"]})]})]})]}),(c==null?void 0:c.period_info)&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-medium-contrast mb-1",children:[e.jsxs("span",{children:["Hari ke-",c.period_info.days_passed]}),e.jsxs("span",{children:[c.period_info.days_in_month," hari total"]})]}),e.jsx(Nt,{value:c.period_info.month_progress,className:"h-2 bg-emerald-100 dark:bg-emerald-950/30"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-emerald-700 dark:text-emerald-300 font-medium",children:"Rata-rata Harian"}),e.jsxs("div",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:["Rp ",((c==null?void 0:c.daily_average)||0).toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-emerald-700 dark:text-emerald-300 font-medium",children:"Estimasi Mingguan"}),e.jsxs("div",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:["Rp ",((c==null?void 0:c.jaspel_weekly)||0).toLocaleString("id-ID")]})]})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Bulan Lalu"}),e.jsxs("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:["Rp ",R.jaspel.lastMonth.toLocaleString("id-ID")]})]})})]})})}),e.jsx(k.div,{variants:A,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(Lt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Aksi Cepat"]})}),e.jsxs(U,{className:"space-y-3",children:[e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Check In/Out Sekarang"]})}),e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-emerald-50 dark:hover:bg-emerald-950/50 hover:border-emerald-200 dark:hover:border-emerald-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),"Lihat Jadwal Minggu Ini"]})}),e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-purple-50 dark:hover:bg-purple-950/50 hover:border-purple-200 dark:hover:border-purple-700 font-medium",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),"Lihat Laporan Kinerja"]})})]})]})}),e.jsx(k.div,{variants:A,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Jadwal Minggu Ini"]})}),e.jsx(U,{children:l?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-3"}),e.jsx("span",{className:"text-sm text-medium-contrast",children:"Memuat jadwal..."})]}):o.length===0?e.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-12",children:[e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.4},className:"relative mb-6",children:[e.jsxs("div",{className:"relative inline-flex items-center justify-center w-24 h-24 mx-auto mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-full opacity-20 animate-pulse"}),e.jsx("div",{className:"relative bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/50 dark:to-teal-900/50 rounded-full p-6 border border-emerald-100 dark:border-emerald-800/50",children:e.jsx(oe,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})})]}),e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ¥"})]}),e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.4},className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tidak ada jadwal minggu ini"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs mx-auto leading-relaxed",children:"Jadwal jaga Anda untuk minggu ini belum tersedia. Hubungi admin untuk pengaturan jadwal."})]}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.4},className:"mt-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-full border border-emerald-100 dark:border-emerald-800/50",children:[e.jsx(Lt,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Segera diperbarui"})]})})]}):e.jsx("div",{className:"space-y-3",children:o.slice(0,3).map((S,F)=>e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:F*.1},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:C(S.jenis)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:N(S.tanggal)}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:S.waktu})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-high-contrast",children:S.lokasi}),e.jsx(xe,{variant:"outline",className:`text-xs font-medium ${S.jenis==="pagi"?"border-yellow-300 dark:border-yellow-600 text-yellow-700 dark:text-yellow-400":S.jenis==="siang"?"border-orange-300 dark:border-orange-600 text-orange-700 dark:text-orange-400":"border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-400"}`,children:S.jenis})]})]},S.id))})})]})})]})}function zn(){const[t,a]=d.useState([]),[r,n]=d.useState(!0),[s,o]=d.useState(null);d.useEffect(()=>{(async()=>{var b;try{n(!0),o(null);const g=((b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"))||"",f=await fetch("/paramedis/api/schedules",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":g}});if(f.ok){const y=await f.json();a(y||[]),console.log("âœ… Paramedis schedules loaded:",(y==null?void 0:y.length)||0,"items")}else console.error("Failed to fetch paramedis schedules:",f.status),o("Gagal memuat jadwal. Silakan coba lagi.")}catch(g){console.error("Error fetching paramedis schedules:",g),o("Terjadi kesalahan saat memuat jadwal.")}finally{n(!1)}})()},[]);const i=m=>{console.log("Edit schedule:",m)},l=m=>{console.log("Cancel schedule:",m),a(b=>b.map(g=>g.id===m?{...g,status:"missed"}:g))},u=m=>{switch(m){case"scheduled":return"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"completed":return"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"missed":return"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700"}},c=m=>{switch(m){case"pagi":return"bg-gradient-to-r from-yellow-400 to-yellow-500 dark:from-yellow-500 dark:to-yellow-600 text-white";case"siang":return"bg-gradient-to-r from-orange-400 to-orange-500 dark:from-orange-500 dark:to-orange-600 text-white";case"malam":return"bg-gradient-to-r from-purple-400 to-purple-500 dark:from-purple-500 dark:to-purple-600 text-white";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},x=m=>new Date(m).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},v={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},w=t.filter(m=>m.status==="scheduled").length,j=t.filter(m=>m.status==="completed").length,h=t.filter(m=>m.status==="missed").length;return e.jsxs(k.div,{variants:p,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:v,children:e.jsx(z,{className:"bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jadwal Jaga"}),e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm font-medium text-mobile-friendly",children:"Kelola jadwal kerja Anda"})]})]}),e.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(te,{size:"sm",className:"bg-white/20 dark:bg-white/25 hover:bg-white/30 dark:hover:bg-white/35 border-white/30 dark:border-white/40 text-white gap-2 backdrop-blur-sm transition-colors duration-300",children:[e.jsx(br,{className:"w-4 h-4"}),"Tambah"]})})]})})})}),e.jsxs(k.div,{variants:v,className:"grid grid-cols-3 gap-3",children:[e.jsx(z,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsxs(U,{className:"p-4 text-center",children:[e.jsx(Ae,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:w}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Dijadwalkan"})]})}),e.jsx(z,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/50 dark:to-emerald-900/30 border-emerald-200 dark:border-emerald-700 card-enhanced",children:e.jsxs(U,{className:"p-4 text-center",children:[e.jsx(me,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:j}),e.jsx("div",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:"Selesai"})]})}),e.jsx(z,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 border-red-200 dark:border-red-700 card-enhanced",children:e.jsxs(U,{className:"p-4 text-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:h}),e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Terlewat"})]})})]}),e.jsx(k.div,{variants:p,className:"space-y-4",children:r?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-3"}),e.jsx("span",{className:"text-sm text-medium-contrast",children:"Memuat jadwal..."})]}):s?e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-2",children:[e.jsx(cr,{className:"w-12 h-12 mx-auto mb-3"}),e.jsx("p",{className:"font-medium",children:s})]}),e.jsx(te,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-3",children:"Coba Lagi"})]})}):t.length===0?e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-6 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-high-contrast mb-1",children:"Belum ada jadwal"}),e.jsx("p",{className:"text-xs text-medium-contrast",children:"Hubungi admin untuk penjadwalan jaga"})]})}):t.map((m,b)=>e.jsx(k.div,{variants:v,whileHover:{scale:1.01,y:-2},transition:{duration:.2},children:e.jsx(z,{className:"shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-high-contrast",children:x(m.tanggal)}),e.jsxs("p",{className:"text-sm text-muted-foreground font-medium",children:["Shift ",m.jenis]})]}),e.jsxs(xe,{className:`${u(m.status)} border`,children:[m.status==="scheduled"&&"Dijadwalkan",m.status==="completed"&&"Selesai",m.status==="missed"&&"Terlewat"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast",children:m.waktu}),e.jsx(xe,{className:`${c(m.jenis)} text-xs font-semibold ml-auto`,children:m.jenis.charAt(0).toUpperCase()+m.jenis.slice(1)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/50 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-sm font-medium text-high-contrast flex-1",children:m.lokasi}),e.jsx(Dn,{className:"w-4 h-4 text-muted-foreground"})]})]}),m.status==="scheduled"&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"flex gap-3 pt-4 mt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(te,{variant:"outline",size:"sm",onClick:()=>i(m.id),className:"w-full border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-300 dark:hover:border-blue-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(qr,{className:"w-4 h-4"}),"Ubah"]})}),e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:e.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(m.id),className:"w-full border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-300 dark:hover:border-red-600 gap-2 font-medium transition-colors duration-300",children:[e.jsx(cr,{className:"w-4 h-4"}),"Batalkan"]})})]})]})})},m.id))}),e.jsx(k.div,{variants:v,children:e.jsx(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-dashed border-2 border-blue-200 dark:border-blue-700 card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-center",children:e.jsxs(te,{variant:"ghost",className:"w-full h-16 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 gap-3 text-base font-medium transition-colors duration-300",children:[e.jsx(br,{className:"w-5 h-5"}),"Tambah Jadwal Baru"]})})})})})]})}function Un(){const[t,a]=d.useState([]),[r,n]=d.useState({total_paid:0,total_pending:0,total_rejected:0,count_paid:0,count_pending:0,count_rejected:0}),[s,o]=d.useState(!0),[i,l]=d.useState(null),[u]=d.useState(new Date().getMonth()+1),[c]=d.useState(new Date().getFullYear()),x=async(f,y)=>{var N;console.log("ðŸ” [JASPEL DEBUG] Starting WORLD-CLASS fetchJaspelData...",{month:f,year:y}),o(!0),l(null);try{const C=localStorage.getItem("token")||sessionStorage.getItem("token")||((N=document.querySelector('meta[name="api-token"]'))==null?void 0:N.getAttribute("content"));console.log("ðŸ”‘ [JASPEL DEBUG] Token found:",!!C,C?C.substring(0,10)+"...":"null");const E=new URLSearchParams;f&&E.append("month",f.toString()),y&&E.append("year",y.toString());const P=[`/paramedis/api/v2/jaspel/mobile-data?${E}`,`/api/v2/jaspel/mobile-data-alt?${E}`];console.log("ðŸ” [DEEP DEBUG] All URLs to try:",P),console.log("ðŸ” [DEEP DEBUG] Current window location:",window.location.href),console.log("ðŸ” [DEEP DEBUG] Base URL:",window.location.origin);let A=null;for(const R of P)try{console.log("ðŸ“¡ [JASPEL DEBUG] Trying endpoint:",R),console.log("ðŸ” [DEEP DEBUG] Full URL being requested:",window.location.origin+R);const W={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};C&&(W.Authorization=`Bearer ${C}`),console.log("ðŸ“‹ [JASPEL DEBUG] Request headers:",W);const L=await fetch(R,{method:"GET",headers:W,credentials:"include"});if(console.log("ðŸ“Š [JASPEL DEBUG] Response status:",L.status),console.log("ðŸ” [DEEP DEBUG] Response URL:",L.url),console.log("ðŸ” [DEEP DEBUG] Response headers:",Object.fromEntries(L.headers.entries())),!L.ok){const V=await L.text();console.error("âŒ [JASPEL DEBUG] API Error:",L.status,V),console.error("âŒ [JASPEL DEBUG] Response headers:",Object.fromEntries(L.headers.entries())),console.error("âŒ [JASPEL DEBUG] Request URL was:",L.url),A=new Error(`HTTP error! status: ${L.status} - ${V}`),L.status===401&&(console.error("ðŸ” [AUTH ERROR] 401 Unauthorized - This is likely the root cause!"),A=new Error("Sesi telah berakhir, silakan login kembali")),L.status===403&&(console.error("ðŸš« [PERMISSION ERROR] 403 Forbidden - Role permission issue!"),A=new Error("Tidak memiliki izin untuk mengakses data Jaspel"));continue}const $=await L.json();if(console.log("âœ… [JASPEL DEBUG] API Success with",R,":",$),$.success){console.log("ðŸ“‹ [JASPEL DEBUG] Setting data:",{items:$.data.jaspel_items.length,summary:$.data.summary,endpoint_used:R}),a($.data.jaspel_items),n($.data.summary);return}else{A=new Error($.message||"Gagal mengambil data Jaspel");continue}}catch(W){console.error("ðŸ”„ [JASPEL DEBUG] Endpoint failed:",R,W),A=W instanceof Error?W:new Error("Network error");continue}throw console.error("ðŸš¨ [CRITICAL] All API endpoints failed for Jaspel data"),A||new Error("Semua endpoint gagal diakses")}catch(C){console.error("ðŸ”¥ [JASPEL ERROR] Final catch - API call completely failed:",C),console.error("ðŸ”¥ [JASPEL ERROR] Error type:",typeof C),console.error("ðŸ”¥ [JASPEL ERROR] Error message:",C instanceof Error?C.message:String(C)),console.error("ðŸ”¥ [JASPEL ERROR] This is why data is showing as empty!"),l(C instanceof Error?C.message:"Terjadi kesalahan saat mengambil data"),a([]),n({total_paid:0,total_pending:0,total_rejected:0,count_paid:0,count_pending:0,count_rejected:0})}finally{o(!1)}};d.useEffect(()=>{x(u,c)},[u,c]);const p=()=>{x(u,c)},v=r.total_pending,w=r.total_paid,j=f=>{switch(f){case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"paid":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"rejected":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},h=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(f),m=f=>new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),b={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return console.log("ðŸŽ¯ [JASPEL DEBUG] Render state:",{isLoading:s,error:i,jaspelDataLength:t.length,summary:r,totalPaid:w,totalPending:v}),e.jsxs(k.div,{variants:b,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:g,children:e.jsx(z,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(_n,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Jaspel"}),e.jsx("p",{className:"text-emerald-100 dark:text-emerald-200 text-sm font-medium text-mobile-friendly",children:"Sistem WORLD-CLASS - Pendapatan dari tindakan tervalidasi"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(k.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(te,{variant:"outline",size:"sm",onClick:p,disabled:s,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:e.jsx(ct,{className:`w-4 h-4 ${s?"animate-spin":""}`})})})})]})})})}),i&&e.jsx(k.div,{variants:g,children:e.jsx(z,{className:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-red-800 dark:text-red-200",children:[e.jsx(Jr,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Gagal memuat data"}),e.jsx("p",{className:"text-sm",children:i})]})]})})})}),s&&e.jsx(k.div,{variants:g,children:e.jsx(z,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800 shadow-lg",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4 text-blue-800 dark:text-blue-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"w-6 h-6 animate-spin"}),e.jsx("div",{className:"absolute inset-0 w-6 h-6 border-2 border-blue-300 border-t-transparent rounded-full animate-spin"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Memuat data Jaspel..."}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Mengambil data terbaru dari sistem WORLD-CLASS"})]})]})})})}),!s&&!i&&t.length===0&&e.jsx(k.div,{variants:g,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"space-y-6",children:e.jsx(k.div,{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-pink-400 to-rose-500 p-6 shadow-lg",whileHover:{scale:1.01,boxShadow:"0 8px 25px -8px rgba(244, 114, 182, 0.4)"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xl",children:"âš ï¸"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-base mb-2",children:"Belum ada data Jaspel"}),e.jsx("p",{className:"text-pink-50 text-sm leading-relaxed",children:"Data muncul setelah divalidasi bendahara"})]})]})})}),!s&&!i&&e.jsxs(k.div,{variants:g,className:"grid grid-cols-2 gap-4",children:[e.jsx(k.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(z,{className:"bg-gradient-to-br from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 border-0 shadow-lg card-enhanced",children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Mn,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-100 dark:text-green-200 font-medium",children:"Total Tervalidasi"}),e.jsx("p",{className:"text-lg font-semibold",children:h(w)})]})]})})})}),e.jsx(k.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:e.jsx(z,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 dark:from-yellow-600 dark:to-yellow-700 border-0 shadow-lg card-enhanced",children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(xn,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-100 dark:text-yellow-200 font-medium",children:"Pending"}),e.jsx("p",{className:"text-lg font-semibold",children:h(v)})]})]})})})})]}),!s&&!i&&t.length>0&&e.jsx(k.div,{variants:g,children:e.jsxs(gn,{defaultValue:"semua",className:"w-full",children:[e.jsxs(pn,{className:"grid w-full grid-cols-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsx(St,{value:"semua",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Semua"}),e.jsx(St,{value:"pending",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Pending"}),e.jsx(St,{value:"paid",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-900 data-[state=active]:shadow-sm font-medium transition-colors duration-300",children:"Tervalidasi"})]}),e.jsx(Et,{value:"semua",className:"space-y-4 mt-4",children:e.jsx(k.div,{variants:b,className:"space-y-3",children:t.map((f,y)=>e.jsx(k.div,{variants:g,whileHover:{scale:1.01,y:-1},whileTap:{scale:.99},transition:{duration:.2},children:e.jsx(z,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:f.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:f.keterangan})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs(xe,{className:`${j(f.status)} border font-medium`,children:[f.status==="pending"&&"Menunggu",f.status==="paid"&&"Tervalidasi",f.status==="rejected"&&"Ditolak"]}),f.validated_by&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["oleh ",f.validated_by]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:m(f.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:h(f.jumlah)}),e.jsx(k.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(te,{variant:"outline",size:"sm",className:"w-8 h-8 p-0 rounded-full hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-300",children:e.jsx(Yr,{className:"w-4 h-4"})})})]})]})]})})},f.id))})}),e.jsx(Et,{value:"pending",className:"space-y-4 mt-4",children:e.jsx(k.div,{variants:b,className:"space-y-3",children:t.filter(f=>f.status==="pending").map((f,y)=>e.jsx(k.div,{variants:g,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(z,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:f.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:f.keterangan})]}),e.jsx(xe,{className:`${j(f.status)} font-medium`,children:"Menunggu"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:m(f.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:h(f.jumlah)})]})]})})},f.id))})}),e.jsx(Et,{value:"paid",className:"space-y-4 mt-4",children:e.jsx(k.div,{variants:b,className:"space-y-3",children:t.filter(f=>f.status==="paid").map((f,y)=>e.jsx(k.div,{variants:g,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(z,{className:"shadow-md hover:shadow-lg transition-all duration-300 border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:f.jenis}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:f.keterangan})]}),e.jsx(xe,{className:`${j(f.status)} font-medium`,children:"Tervalidasi"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:m(f.tanggal)})]}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:h(f.jumlah)})]})]})})},f.id))})})]})})]})}function Vn({onLocationSelect:t,height:a="400px",defaultLat:r=-7.808758,defaultLng:n=111.962646,defaultZoom:s=15}){const o=d.useRef(null),i=d.useRef(null),l=d.useRef(null),[u,c]=d.useState(!0),[x,p]=d.useState(!1),[v,w]=d.useState({lat:r,lng:n}),[j]=d.useState(`leaflet-map-${Math.random().toString(36).substr(2,9)}`);d.useEffect(()=>{(async()=>{if(window.L){c(!1);return}if(!document.querySelector('link[href*="leaflet"]')){const g=document.createElement("link");g.rel="stylesheet",g.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",g.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",g.crossOrigin="",document.head.appendChild(g)}if(document.querySelector('script[src*="leaflet"]'))c(!1);else{const g=document.createElement("script");g.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",g.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",g.crossOrigin="",g.onload=()=>c(!1),document.head.appendChild(g)}})()},[]),d.useEffect(()=>{if(u||!l.current||o.current)return;const b=window.L;if(!b)return;const g=b.map(l.current,{center:[r,n],zoom:s,zoomControl:!0,attributionControl:!0});b.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19,subdomains:["a","b","c"]}).addTo(g);const f=b.marker([r,n],{draggable:!0}).addTo(g);return o.current=g,i.current=f,f.on("dragend",y=>{const N=y.target.getLatLng();h(N.lat,N.lng)}),g.on("click",y=>{f.setLatLng(y.latlng),h(y.latlng.lat,y.latlng.lng)}),setTimeout(()=>{m(!0)},500),()=>{o.current&&(o.current.remove(),o.current=null,i.current=null)}},[u,r,n,s]);const h=(b,g,f)=>{w({lat:b,lng:g}),t&&fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${b}&lon=${g}`).then(y=>y.json()).then(y=>{const N=y.display_name||`${b.toFixed(6)}, ${g.toFixed(6)}`;t({lat:b,lng:g,accuracy:f,address:N})}).catch(()=>{t({lat:b,lng:g,accuracy:f})})},m=(b=!1)=>{if(!navigator.geolocation){b||alert("GPS tidak didukung oleh browser Anda");return}p(!0),navigator.geolocation.getCurrentPosition(g=>{const f=g.coords.latitude,y=g.coords.longitude,N=g.coords.accuracy;o.current&&i.current&&(o.current.setView([f,y],s),i.current.setLatLng([f,y])),h(f,y,N),p(!1),b||alert(`âœ… Lokasi berhasil dideteksi!
ðŸ“ ${f.toFixed(6)}, ${y.toFixed(6)}
ðŸ“ Akurasi: ${Math.round(N)} meter`)},g=>{if(p(!1),!b){let f="âŒ Gagal mendeteksi lokasi GPS";switch(g.code){case 1:f="ðŸš« Akses lokasi ditolak oleh pengguna";break;case 2:f="ðŸ“¡ Sinyal GPS tidak tersedia";break;case 3:f="â±ï¸ Waktu deteksi GPS habis";break}alert(f)}},{enableHighAccuracy:!0,timeout:b?8e3:15e3,maximumAge:3e5})};return e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsxs("div",{className:"relative border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800",children:[u&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Loading map..."})]})}),e.jsx("div",{ref:l,id:j,style:{height:a,width:"100%",minHeight:"300px"},className:"z-0"}),e.jsx(te,{onClick:()=>m(),disabled:x,className:"absolute top-2 left-2 z-[1000] bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 shadow-md",size:"sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx(dr,{className:"w-4 h-4 mr-2 animate-spin"}),"Mencari..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Deteksi GPS"]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Koordinat:"})]}),e.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-gray-100",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("p",{className:"font-medium mb-1",children:"ðŸ“ Cara Menggunakan:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[e.jsx("li",{children:"Klik pada peta untuk memilih lokasi"}),e.jsx("li",{children:"Seret marker untuk mengubah posisi"}),e.jsx("li",{children:'Gunakan tombol "Deteksi GPS" untuk lokasi saat ini'}),e.jsx("li",{children:"Scroll untuk zoom in/out"})]})]})})]})}class Kn extends d.Component{constructor(a){super(a),this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("Google Maps Error:",a,r)}render(){return this.state.hasError?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx(Ht,{className:"w-12 h-12 text-orange-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Google Maps Error"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 text-center",children:"Terjadi kesalahan saat memuat peta. Silakan coba lagi."}),e.jsxs(te,{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),"Coba Lagi"]}),!1]}):this.props.children}}function Jn(){var $,V,re,K,Y,O,Q;const[t,a]=d.useState(new Date),[r,n]=d.useState(null),[s,o]=d.useState(!1),[i,l]=d.useState(!1),[u,c]=d.useState(null),[x,p]=d.useState(null),[v,w]=d.useState(!0),[j,h]=d.useState(null),[m,b]=d.useState({timeString:"00:00:00",hoursMinutes:"0j 0m",totalMinutes:0,isActive:!1}),g=S=>S?S.includes("T")?new Date(S).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1}):S.length>5?S.substring(0,5):S:"--:--",f=S=>{if(S instanceof Date)return S;if(typeof S!="string")throw new Error("Invalid date input type");const F=[()=>new Date(S),()=>new Date(S.replace(" ","T")),()=>new Date(S+(S.includes("Z")||S.includes("+")?"":"Z")),()=>{const _=S.replace(" ","T");return new Date(_+(_.includes("Z")||_.includes("+")?"":"+07:00"))},()=>{if(/^\d{2}:\d{2}:\d{2}$/.test(S)){const _=new Date().toISOString().split("T")[0];return new Date(`${_}T${S}`)}throw new Error("Not time-only format")},()=>{if(/^\d{2}:\d{2}$/.test(S)){const _=new Date().toISOString().split("T")[0];return new Date(`${_}T${S}:00`)}throw new Error("Not time-only format")}];for(const _ of F)try{const H=_();if(!isNaN(H.getTime()))return console.log("ðŸ” Successful parse strategy for:",S,"â†’",H.toISOString()),H}catch{}throw new Error(`Unable to parse date: ${S}`)},y=(S,F)=>{try{console.log("ðŸ” calculateWorkMinutes input:",{checkInTime:S,checkOutTime:F});const _=f(S),H=F?f(F):new Date;console.log("ðŸ” Parsed times:",{startTimeStr:_.toString(),endTimeStr:H.toString(),startTime:_.toISOString(),endTime:H.toISOString(),startTimeValue:_.getTime(),endTimeValue:H.getTime()});const q=H.getTime()-_.getTime(),X=q/1e3/60,B=Math.max(0,Math.floor(Math.abs(X)));return console.log("ðŸ” Calculation result:",{diffMs:q,totalMinutes:X,result:B,diffInSeconds:q/1e3,diffInHours:q/1e3/60/60,isNegativeDiff:q<0}),B}catch(_){return console.error("âŒ Error calculating work minutes:",_,"Input:",{checkInTime:S,checkOutTime:F}),0}},N=()=>{var D,M,G;const S={timestamp:new Date().toISOString(),attendanceStatus:r==null?void 0:r.attendance,hasCheckIn:!!((D=r==null?void 0:r.attendance)!=null&&D.check_in_time),rawCheckInTime:(M=r==null?void 0:r.attendance)==null?void 0:M.check_in_time,methods:{}};if(!((G=r==null?void 0:r.attendance)!=null&&G.check_in_time))return console.log("ðŸš¨ CREATIVE DEBUG: No check-in time available",S),{timeString:"00:00:00",hoursMinutes:"0j 0m",totalMinutes:0,isActive:!1,debugInfo:S};const F={standard:()=>{try{const J=f(r.attendance.check_in_time),Z=Date.now(),ce=(r.attendance.check_out_time?f(r.attendance.check_out_time).getTime():Z)-J.getTime();return Math.max(0,Math.floor(ce/1e3/60))}catch(J){return S.methods.standard={error:J.message},null}},directToday:()=>{try{const J=r.attendance.check_in_time;let Z;if(J.includes("T")||J.includes(" "))Z=new Date(J.replace(" ","T"));else{const ve=new Date().toISOString().split("T")[0];Z=new Date(`${ve}T${J}`)}const ne=new Date,ae=(r.attendance.check_out_time?new Date(r.attendance.check_out_time.replace(" ","T")):ne).getTime()-Z.getTime();return Math.max(0,Math.floor(ae/1e3/60))}catch(J){return S.methods.directToday={error:J.message},null}},serverDuration:()=>{var J;try{const Z=(J=r==null?void 0:r.attendance)==null?void 0:J.work_duration_minutes;return typeof Z=="number"&&Z>=0?Math.floor(Z):null}catch(Z){return S.methods.serverDuration={error:Z.message},null}},manualToday:()=>{try{const Z=r.attendance.check_in_time.match(/(\d{1,2}):(\d{2})(?::(\d{2}))?/);if(!Z)return null;const ne=parseInt(Z[1]),ce=parseInt(Z[2]),ae=new Date,ve=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate(),ne,ce,0),hn=new Date().getTime()-ve.getTime();return Math.max(0,Math.floor(hn/1e3/60))}catch(J){return S.methods.manualToday={error:J.message},null}}};let _=0,H="none";for(const[J,Z]of Object.entries(F)){const ne=Z();if(S.methods[J]={result:ne},ne!==null&&ne>=0){_=ne,H=J;break}}const q=Math.floor(_/60),X=_%60,B=r.attendance.check_out_time?0:Math.floor(Date.now()/1e3)%60,T=`${q.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`,I=`${q}j ${X}m`,ee=!r.attendance.check_out_time;return S.result={totalMinutes:_,timeString:T,hoursMinutes:I,isActive:ee,successfulMethod:H},console.log("ðŸŽ¨ CREATIVE CALCULATION RESULT:",{successfulMethod:H,totalMinutes:_,timeString:T,hoursMinutes:I,debugInfo:S}),{timeString:T,hoursMinutes:I,totalMinutes:_,isActive:ee,debugInfo:S}},C=async()=>{var S,F,_,H,q,X;try{const B=((S=document.querySelector('meta[name="csrf-token"]'))==null?void 0:S.getAttribute("content"))||"",T=((F=document.querySelector('meta[name="api-token"]'))==null?void 0:F.getAttribute("content"))||"",I={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":B};T&&(I.Authorization=`Bearer ${T}`);const ee=await fetch("/api/v2/dashboards/paramedis/attendance/status",{credentials:"include",headers:I});if(ee.ok){const D=await ee.json();if(D.success&&D.data){if(console.log("ðŸ” Attendance Status Response:",JSON.stringify(D.data,null,2)),console.log("ðŸ” Attendance Object:",D.data.attendance),console.log("ðŸ” Check In Time Raw:",(_=D.data.attendance)==null?void 0:_.check_in_time),console.log("ðŸ” Check In Time Type:",typeof((H=D.data.attendance)==null?void 0:H.check_in_time)),console.log("ðŸ” Check Out Time Raw:",(q=D.data.attendance)==null?void 0:q.check_out_time),console.log("ðŸ” Status:",D.data.status),console.log("ðŸ” Can Check Out:",D.data.can_check_out),(X=D.data.attendance)!=null&&X.check_in_time){const M=y(D.data.attendance.check_in_time);console.log("ðŸ” Test calculation after fetch:",M,"minutes")}n(D.data),h(null)}}else console.error("Failed to fetch attendance status:",ee.status),h("Gagal memuat status presensi")}catch(B){console.error("Error fetching attendance status:",B),h("Gagal memuat status presensi")}};d.useEffect(()=>{C();const S=setInterval(()=>{a(new Date);const _=N();b(_)},1e3),F=setInterval(()=>{C()},3e4);return()=>{clearInterval(S),clearInterval(F)}},[]),d.useEffect(()=>{var S;if((S=r==null?void 0:r.attendance)!=null&&S.check_in_time){const F=N();b(F),console.log("ðŸ§ª Manual test case:");const _=new Date,H=new Date(_.getTime()-17*60*1e3),q=y(H);console.log("ðŸ§ª Test: 17 minutes ago should give ~17:",q),[H.toISOString(),H.toISOString().replace("T"," ").replace(".000Z",""),H.toLocaleString("sv-SE")].forEach((B,T)=>{const I=y(B);console.log(`ðŸ§ª Test format ${T+1} (${B}) should give ~17:`,I)})}},[($=r==null?void 0:r.attendance)==null?void 0:$.check_in_time,(V=r==null?void 0:r.attendance)==null?void 0:V.check_out_time]);const E=async()=>{var S,F;if(v&&!u){alert("Mohon pilih lokasi presensi terlebih dahulu menggunakan peta di bawah"),l(!0);return}if(!(r!=null&&r.can_check_in)){alert((r==null?void 0:r.message)||"Anda tidak dapat melakukan check-in saat ini");return}o(!0),h(null);try{const _=((S=document.querySelector('meta[name="csrf-token"]'))==null?void 0:S.getAttribute("content"))||"",H=((F=document.querySelector('meta[name="api-token"]'))==null?void 0:F.getAttribute("content"))||"",q={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":_};H&&(q.Authorization=`Bearer ${H}`);const X=await fetch("/api/v2/dashboards/paramedis/checkin",{method:"POST",credentials:"include",headers:q,body:JSON.stringify({latitude:u==null?void 0:u.lat,longitude:u==null?void 0:u.lng,accuracy:u==null?void 0:u.accuracy,location_name:(u==null?void 0:u.address)||"Location from Map",notes:"Check-in from mobile app"})}),B=await X.json();if(X.ok&&B.success)await C(),alert(`Check-in berhasil!
Waktu: ${B.data.time_in}
Lokasi: ${(u==null?void 0:u.address)||"Koordinat: "+(u==null?void 0:u.lat)+", "+(u==null?void 0:u.lng)}`);else throw new Error(B.message||"Check-in gagal")}catch(_){console.error("Check-in error:",_),h(_.message||"Gagal melakukan check-in"),alert("Gagal melakukan check-in: "+(_.message||"Terjadi kesalahan"))}finally{o(!1)}},P=async()=>{var S,F,_,H,q,X,B;if(v&&!x){alert("Mohon pilih lokasi check-out terlebih dahulu menggunakan peta di bawah"),l(!0);return}if(!(r!=null&&r.can_check_out)){alert((r==null?void 0:r.message)||"Anda tidak dapat melakukan check-out saat ini");return}if((S=r==null?void 0:r.attendance)!=null&&S.check_in_time){console.log("ðŸ” Check-out attempt - attendance data:",{check_in_time:r.attendance.check_in_time,check_out_time:r.attendance.check_out_time,status:r.status});const T=Math.max(0,Math.floor(y(r.attendance.check_in_time)));console.log("ðŸ” Client calculated work minutes:",T,"(server will validate)")}o(!0),h(null);try{const T=((F=document.querySelector('meta[name="csrf-token"]'))==null?void 0:F.getAttribute("content"))||"",I=((_=document.querySelector('meta[name="api-token"]'))==null?void 0:_.getAttribute("content"))||"",ee={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":T};I&&(ee.Authorization=`Bearer ${I}`);const D=await fetch("/api/v2/dashboards/paramedis/checkout",{method:"POST",credentials:"include",headers:ee,body:JSON.stringify({latitude:x==null?void 0:x.lat,longitude:x==null?void 0:x.lng,accuracy:x==null?void 0:x.accuracy,location_name:(x==null?void 0:x.address)||"Location from Map",notes:"Check-out from mobile app"})}),M=await D.json();if(D.ok&&M.success){await C();const G=((H=M.data.work_duration)==null?void 0:H.hours_minutes)||((q=M.data.work_duration)==null?void 0:q.formatted)||"N/A";alert(`Check-out berhasil!
Waktu: ${M.data.time_out}
Total Jam Kerja: ${G}
Lokasi: ${(x==null?void 0:x.address)||"Koordinat: "+(x==null?void 0:x.lat)+", "+(x==null?void 0:x.lng)}`),c(null),p(null)}else if(M.message&&(M.message.includes("minimal")||M.message.includes("minimum")||M.message.includes("terlalu cepat"))){const G=(X=r==null?void 0:r.attendance)!=null&&X.check_in_time?Math.max(0,Math.floor(y(r.attendance.check_in_time))):0;let J=30;const Z=M.message.match(/minimal(?:.*?)(\d+)(?:.*?)menit/i)||M.message.match(/(\d+)(?:.*?)menit/i);Z&&Z[1]&&(J=parseInt(Z[1])),alert(`Gagal melakukan check-out: Minimal bekerja ${J} menit. Anda baru bekerja ${G} menit.`)}else throw new Error(M.message||"Check-out gagal")}catch(T){console.error("Check-out error:",T),h(T.message||"Gagal melakukan check-out");let I=T.message||"Terjadi kesalahan";if(I.includes("minimal")||I.includes("minimum")||I.includes("terlalu cepat")){const ee=(B=r==null?void 0:r.attendance)!=null&&B.check_in_time?Math.max(0,Math.floor(y(r.attendance.check_in_time))):0;let D=30;const M=I.match(/minimal(?:.*?)(\d+)(?:.*?)menit/i)||I.match(/(\d+)(?:.*?)menit/i);M&&M[1]&&(D=parseInt(M[1])),I=`Minimal bekerja ${D} menit. Anda baru bekerja ${ee} menit.`}alert("Gagal melakukan check-out: "+I)}finally{o(!1)}},A=S=>{try{r!=null&&r.can_check_in?c(S):r!=null&&r.can_check_out&&p(S)}catch{}},R=()=>t.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),W={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},L={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(k.div,{variants:W,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:L,children:e.jsx(z,{className:"bg-gradient-to-r from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Lt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Presensi"}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:"Check In & Check Out"})]})]})})})})}),e.jsx(k.div,{variants:L,children:e.jsx(z,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-purple-950/30 backdrop-blur-sm card-enhanced",children:e.jsxs(U,{className:"p-8 space-y-6",children:[e.jsxs(k.div,{className:"text-center",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx("div",{className:"text-5xl bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent font-bold",children:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e.jsx("div",{className:"text-base text-muted-foreground font-medium mt-2",children:R()})]}),e.jsxs(k.div,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-lg font-semibold text-high-contrast",children:"KLINIK DOKTERKU"})]}),((re=r==null?void 0:r.attendance)==null?void 0:re.check_in_time)&&e.jsxs(k.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:`relative overflow-hidden rounded-2xl backdrop-blur-xl border transition-all duration-500 ${m.isActive?"bg-gradient-to-br from-green-400/20 via-emerald-300/15 to-green-500/20 border-green-300/30 shadow-green-500/20":"bg-gradient-to-br from-gray-400/20 via-slate-300/15 to-gray-500/20 border-gray-300/30 shadow-gray-500/20"} shadow-2xl`,style:{boxShadow:m.isActive?"0 25px 50px -12px rgba(34, 197, 94, 0.25), 0 0 0 1px rgba(34, 197, 94, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1)":"0 25px 50px -12px rgba(148, 163, 184, 0.25), 0 0 0 1px rgba(148, 163, 184, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[e.jsx("div",{className:`absolute inset-0 opacity-80 ${m.isActive?"bg-gradient-to-br from-green-600 via-emerald-700 to-green-800":"bg-gradient-to-br from-gray-600 via-slate-700 to-gray-800"} animate-pulse`}),e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(k.div,{animate:{rotate:m.isActive?[0,360]:0,scale:m.isActive?[1,1.1,1]:1},transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:`w-10 h-10 rounded-full flex items-center justify-center ${m.isActive?"bg-green-500/30 border-2 border-green-400/50":"bg-gray-500/30 border-2 border-gray-400/50"} backdrop-blur-md shadow-xl`,children:e.jsx("span",{className:"text-2xl",children:"ðŸ•’"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`font-black text-xl ${m.isActive,"text-white drop-shadow-lg"}`,style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:m.isActive?"Jam Kerja Live":"Total Jam Kerja"}),e.jsx("p",{className:`text-base font-bold ${m.isActive,"text-white drop-shadow-lg"}`,style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.8)"},children:"Hari Ini"})]})]}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx(k.div,{className:`text-5xl font-mono font-black tracking-wider ${m.isActive,"text-white drop-shadow-2xl"}`,style:{textShadow:m.isActive?"0 4px 8px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(16, 128, 96, 0.6)":"0 4px 8px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(128, 128, 128, 0.6)"},animate:{scale:m.isActive?[1,1.02,1]:1},transition:{duration:1,repeat:1/0},children:(()=>{const S=N();return console.log("ðŸŽ¨ CREATIVE MAIN TIMER:",S.timeString),S.timeString||"00:00:00"})()}),e.jsx("div",{className:`text-xl font-black ${m.isActive,"text-white drop-shadow-lg"}`,style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:(()=>{const S=N();return console.log("ðŸŽ¨ CREATIVE MAIN HOURS:",S.hoursMinutes),S.hoursMinutes||"0j 0m"})()}),m.isActive&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},className:"flex items-center justify-center gap-2 text-white text-base font-bold",style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.9)"},children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-white animate-pulse shadow-lg"}),"ðŸ”´ LIVE - Berjalan Real-Time",e.jsx("div",{className:"w-3 h-3 rounded-full bg-white animate-pulse shadow-lg"}),(()=>{var H,q,X,B;const S=N(),F={standard:"ðŸŽ¯",directToday:"ðŸ“…",serverDuration:"ðŸ–¥ï¸",manualToday:"ðŸ”§",none:"âŒ"},_={standard:"Standard",directToday:"Direct",serverDuration:"Server",manualToday:"Manual",none:"Failed"};return e.jsxs("div",{className:"text-xs opacity-80",children:[F[((q=(H=S.debugInfo)==null?void 0:H.result)==null?void 0:q.successfulMethod)||"none"]," ",_[((B=(X=S.debugInfo)==null?void 0:X.result)==null?void 0:B.successfulMethod)||"none"]]})})()]})]})]})]}),e.jsx(ur,{mode:"wait",children:r!=null&&r.can_check_out?e.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[e.jsxs(k.div,{className:"flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[e.jsx(ze,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),e.jsxs("span",{className:"text-green-700 dark:text-green-300 font-medium",children:["Check-in pada ",g(((K=r==null?void 0:r.attendance)==null?void 0:K.check_in_time)||null)]})]}),e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(te,{onClick:P,disabled:s,className:"w-full bg-gradient-to-r from-red-500 to-red-600 dark:from-red-600 dark:to-red-700 hover:from-red-600 hover:to-red-700 dark:hover:from-red-700 dark:hover:to-red-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300 disabled:opacity-50",children:[e.jsx(Bt,{className:"w-6 h-6 mr-3"}),s?"Processing...":"Check Out"]})})]},"checked-in"):r!=null&&r.can_check_in?e.jsx(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(te,{onClick:E,disabled:s,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 hover:from-blue-600 hover:to-blue-700 dark:hover:from-blue-700 dark:hover:to-blue-800 text-white shadow-lg h-14 text-lg font-semibold transition-all duration-300 disabled:opacity-50",children:[e.jsx(ze,{className:"w-6 h-6 mr-3"}),s?"Processing...":"Check In"]})},"not-checked-in"):e.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"p-4 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-xl text-center",children:[e.jsx(ze,{className:"w-6 h-6 text-gray-600 dark:text-gray-400 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:(r==null?void 0:r.message)||"Presensi sudah selesai untuk hari ini"})]},"completed")})]})})}),e.jsx(k.div,{variants:L,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Status Hari Ini"]})}),e.jsxs(U,{children:[j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:j}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsx(me,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:g(((Y=r==null?void 0:r.attendance)==null?void 0:Y.check_in_time)||null)}),e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Check In"}),((O=r==null?void 0:r.attendance)==null?void 0:O.is_late)&&e.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Terlambat"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/30 rounded-xl border border-orange-200 dark:border-orange-700",children:[e.jsx(me,{className:"w-6 h-6 text-orange-600 dark:text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-orange-700 dark:text-orange-300",children:g(((Q=r==null?void 0:r.attendance)==null?void 0:Q.check_out_time)||null)}),e.jsx("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400",children:"Check Out"}),(r==null?void 0:r.status)==="checked_in"&&e.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"Belum checkout"}),(r==null?void 0:r.status)==="completed"&&e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"âœ“ Selesai"})]}),e.jsxs("div",{className:`text-center p-4 rounded-xl border transition-all duration-300 ${m!=null&&m.isActive?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 border-green-200 dark:border-green-700 shadow-green-500/20":"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950/50 dark:to-gray-900/30 border-gray-200 dark:border-gray-700 shadow-gray-500/20"} backdrop-blur-sm shadow-lg`,children:[e.jsx("div",{className:`w-6 h-6 mx-auto mb-2 ${m!=null&&m.isActive?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:m!=null&&m.isActive?e.jsx(k.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},children:e.jsx(Ae,{className:"w-6 h-6"})}):e.jsx(Ae,{className:"w-6 h-6"})}),e.jsx("div",{className:`text-xl font-black font-mono ${m!=null&&m.isActive?"text-green-800 dark:text-green-200":"text-gray-800 dark:text-gray-200"}`,style:{textShadow:m!=null&&m.isActive?"0 1px 2px rgba(0, 0, 0, 0.3), 0 0 4px rgba(16, 128, 96, 0.3)":"0 1px 2px rgba(0, 0, 0, 0.3)"},children:(()=>{const S=N();return console.log("ðŸŽ¨ CREATIVE QUICK STATS:",S),S.hoursMinutes||"0j 0m"})()}),e.jsx("div",{className:`text-xs font-bold ${m!=null&&m.isActive?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:"Total Jam Kerja"}),(m==null?void 0:m.isActive)&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center justify-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Live"]}),(r==null?void 0:r.status)==="completed"&&e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"âœ“ Selesai"})]})]}),(r==null?void 0:r.message)&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700 text-sm",children:["Status: ",r.message]})]})]})}),e.jsx(k.div,{variants:L,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(bn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Lokasi Presensi"]}),e.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(!i),className:"text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:hover:bg-blue-950/50",children:[i?"Sembunyikan":"Tampilkan"," Peta"]})]})}),e.jsxs(U,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:r!=null&&r.can_check_in?"Lokasi Check-in":"Lokasi Check-out"})]}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:r!=null&&r.can_check_in&&u||r!=null&&r.can_check_out&&x?"âœ“ Tersimpan":"Belum dipilih"})]}),(u&&(r==null?void 0:r.can_check_in)||x&&(r==null?void 0:r.can_check_out))&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:e.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300 space-y-1",children:[(r==null?void 0:r.can_check_in)&&u&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-in:"})," ",u.address||`${u.lat.toFixed(6)}, ${u.lng.toFixed(6)}`]}),u.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(u.accuracy)," meter"]})]}),(r==null?void 0:r.can_check_out)&&x&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Check-out:"})," ",x.address||`${x.lat.toFixed(6)}, ${x.lng.toFixed(6)}`]}),x.accuracy&&e.jsxs("p",{children:[e.jsx("strong",{children:"Akurasi:"})," ",Math.round(x.accuracy)," meter"]})]})]})})]}),e.jsx(ur,{children:i&&e.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsx(Kn,{children:e.jsx(Vn,{onLocationSelect:A,height:"400px"})})})})]})]})}),e.jsx(k.div,{variants:L,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsx(je,{className:"text-high-contrast",children:"Aksi Cepat"})}),e.jsxs(U,{className:"space-y-3",children:[e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"Lihat Riwayat Presensi"]})}),e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-green-50 dark:hover:bg-green-950/50 hover:border-green-200 dark:hover:border-green-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),"Laporan Jam Kerja"]})})]})]})})]})}function yr(t,[a,r]){return Math.min(r,Math.max(a,t))}function Gn(t,a=globalThis==null?void 0:globalThis.document){const r=Ie(t);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return a.addEventListener("keydown",n,{capture:!0}),()=>a.removeEventListener("keydown",n,{capture:!0})},[r,a])}var qn="DismissableLayer",$t="dismissableLayer.update",Yn="dismissableLayer.pointerDownOutside",Xn="dismissableLayer.focusOutside",jr,ta=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ra=d.forwardRef((t,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...u}=t,c=d.useContext(ta),[x,p]=d.useState(null),v=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=d.useState({}),j=le(a,E=>p(E)),h=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=h.indexOf(m),g=x?h.indexOf(x):-1,f=c.layersWithOutsidePointerEventsDisabled.size>0,y=g>=b,N=es(E=>{const P=E.target,A=[...c.branches].some(R=>R.contains(P));!y||A||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},v),C=ts(E=>{const P=E.target;[...c.branches].some(R=>R.contains(P))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},v);return Gn(E=>{g===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},v),d.useEffect(()=>{if(x)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(jr=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(x)),c.layers.add(x),kr(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=jr)}},[x,v,r,c]),d.useEffect(()=>()=>{x&&(c.layers.delete(x),c.layersWithOutsidePointerEventsDisabled.delete(x),kr())},[x,c]),d.useEffect(()=>{const E=()=>w({});return document.addEventListener($t,E),()=>document.removeEventListener($t,E)},[]),e.jsx(se.div,{...u,ref:j,style:{pointerEvents:f?y?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});ra.displayName=qn;var Zn="DismissableLayerBranch",Qn=d.forwardRef((t,a)=>{const r=d.useContext(ta),n=d.useRef(null),s=le(a,n);return d.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),e.jsx(se.div,{...t,ref:s})});Qn.displayName=Zn;function es(t,a=globalThis==null?void 0:globalThis.document){const r=Ie(t),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let u=function(){aa(Yn,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(a.removeEventListener("click",s.current),s.current=u,a.addEventListener("click",s.current,{once:!0})):u()}else a.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{a.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),a.removeEventListener("pointerdown",o),a.removeEventListener("click",s.current)}},[a,r]),{onPointerDownCapture:()=>n.current=!0}}function ts(t,a=globalThis==null?void 0:globalThis.document){const r=Ie(t),n=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!n.current&&aa(Xn,r,{originalEvent:o},{discrete:!1})};return a.addEventListener("focusin",s),()=>a.removeEventListener("focusin",s)},[a,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kr(){const t=new CustomEvent($t);document.dispatchEvent(t)}function aa(t,a,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});a&&s.addEventListener(t,a,{once:!0}),n?vn(s,o):s.dispatchEvent(o)}var Ct=0;function rs(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Nr()),document.body.insertAdjacentElement("beforeend",t[1]??Nr()),Ct++,()=>{Ct===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Ct--}},[])}function Nr(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tt="focusScope.autoFocusOnMount",At="focusScope.autoFocusOnUnmount",Sr={bubbles:!1,cancelable:!0},as="FocusScope",na=d.forwardRef((t,a)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,u]=d.useState(null),c=Ie(s),x=Ie(o),p=d.useRef(null),v=le(a,h=>u(h)),w=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let h=function(f){if(w.paused||!l)return;const y=f.target;l.contains(y)?p.current=y:Te(p.current,{select:!0})},m=function(f){if(w.paused||!l)return;const y=f.relatedTarget;y!==null&&(l.contains(y)||Te(p.current,{select:!0}))},b=function(f){if(document.activeElement===document.body)for(const N of f)N.removedNodes.length>0&&Te(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",m);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",m),g.disconnect()}}},[n,l,w.paused]),d.useEffect(()=>{if(l){Cr.add(w);const h=document.activeElement;if(!l.contains(h)){const b=new CustomEvent(Tt,Sr);l.addEventListener(Tt,c),l.dispatchEvent(b),b.defaultPrevented||(ns(cs(sa(l)),{select:!0}),document.activeElement===h&&Te(l))}return()=>{l.removeEventListener(Tt,c),setTimeout(()=>{const b=new CustomEvent(At,Sr);l.addEventListener(At,x),l.dispatchEvent(b),b.defaultPrevented||Te(h??document.body,{select:!0}),l.removeEventListener(At,x),Cr.remove(w)},0)}}},[l,c,x,w]);const j=d.useCallback(h=>{if(!r&&!n||w.paused)return;const m=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,b=document.activeElement;if(m&&b){const g=h.currentTarget,[f,y]=ss(g);f&&y?!h.shiftKey&&b===y?(h.preventDefault(),r&&Te(f,{select:!0})):h.shiftKey&&b===f&&(h.preventDefault(),r&&Te(y,{select:!0})):b===g&&h.preventDefault()}},[r,n,w.paused]);return e.jsx(se.div,{tabIndex:-1,...i,ref:v,onKeyDown:j})});na.displayName=as;function ns(t,{select:a=!1}={}){const r=document.activeElement;for(const n of t)if(Te(n,{select:a}),document.activeElement!==r)return}function ss(t){const a=sa(t),r=Er(a,t),n=Er(a.reverse(),t);return[r,n]}function sa(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function Er(t,a){for(const r of t)if(!is(r,{upTo:a}))return r}function is(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function os(t){return t instanceof HTMLInputElement&&"select"in t}function Te(t,{select:a=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&os(t)&&a&&t.select()}}var Cr=ls();function ls(){let t=[];return{add(a){const r=t[0];a!==r&&(r==null||r.pause()),t=Tr(t,a),t.unshift(a)},remove(a){var r;t=Tr(t,a),(r=t[0])==null||r.resume()}}}function Tr(t,a){const r=[...t],n=r.indexOf(a);return n!==-1&&r.splice(n,1),r}function cs(t){return t.filter(a=>a.tagName!=="A")}const ds=["top","right","bottom","left"],Re=Math.min,de=Math.max,ut=Math.round,tt=Math.floor,ke=t=>({x:t,y:t}),us={left:"right",right:"left",bottom:"top",top:"bottom"},ms={start:"end",end:"start"};function Wt(t,a,r){return de(t,Re(a,r))}function Ee(t,a){return typeof t=="function"?t(a):t}function Ce(t){return t.split("-")[0]}function Ge(t){return t.split("-")[1]}function Qt(t){return t==="x"?"y":"x"}function er(t){return t==="y"?"height":"width"}const hs=new Set(["top","bottom"]);function ye(t){return hs.has(Ce(t))?"y":"x"}function tr(t){return Qt(ye(t))}function fs(t,a,r){r===void 0&&(r=!1);const n=Ge(t),s=tr(t),o=er(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return a.reference[o]>a.floating[o]&&(i=mt(i)),[i,mt(i)]}function xs(t){const a=mt(t);return[zt(t),a,zt(a)]}function zt(t){return t.replace(/start|end/g,a=>ms[a])}const Ar=["left","right"],Pr=["right","left"],gs=["top","bottom"],ps=["bottom","top"];function bs(t,a,r){switch(t){case"top":case"bottom":return r?a?Pr:Ar:a?Ar:Pr;case"left":case"right":return a?gs:ps;default:return[]}}function vs(t,a,r,n){const s=Ge(t);let o=bs(Ce(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),a&&(o=o.concat(o.map(zt)))),o}function mt(t){return t.replace(/left|right|bottom|top/g,a=>us[a])}function ws(t){return{top:0,right:0,bottom:0,left:0,...t}}function ia(t){return typeof t!="number"?ws(t):{top:t,right:t,bottom:t,left:t}}function ht(t){const{x:a,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:a,right:a+n,bottom:r+s,x:a,y:r}}function Rr(t,a,r){let{reference:n,floating:s}=t;const o=ye(a),i=tr(a),l=er(i),u=Ce(a),c=o==="y",x=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,v=n[l]/2-s[l]/2;let w;switch(u){case"top":w={x,y:n.y-s.height};break;case"bottom":w={x,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:p};break;case"left":w={x:n.x-s.width,y:p};break;default:w={x:n.x,y:n.y}}switch(Ge(a)){case"start":w[i]-=v*(r&&c?-1:1);break;case"end":w[i]+=v*(r&&c?-1:1);break}return w}const ys=async(t,a,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(a));let c=await i.getElementRects({reference:t,floating:a,strategy:s}),{x,y:p}=Rr(c,n,u),v=n,w={},j=0;for(let h=0;h<l.length;h++){const{name:m,fn:b}=l[h],{x:g,y:f,data:y,reset:N}=await b({x,y:p,initialPlacement:n,placement:v,strategy:s,middlewareData:w,rects:c,platform:i,elements:{reference:t,floating:a}});x=g??x,p=f??p,w={...w,[m]:{...w[m],...y}},N&&j<=50&&(j++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(c=N.rects===!0?await i.getElementRects({reference:t,floating:a,strategy:s}):N.rects),{x,y:p}=Rr(c,v,u)),h=-1)}return{x,y:p,placement:v,strategy:s,middlewareData:w}};async function Ze(t,a){var r;a===void 0&&(a={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:x="viewport",elementContext:p="floating",altBoundary:v=!1,padding:w=0}=Ee(a,t),j=ia(w),m=l[v?p==="floating"?"reference":"floating":p],b=ht(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:x,strategy:u})),g=p==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,f=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),y=await(o.isElement==null?void 0:o.isElement(f))?await(o.getScale==null?void 0:o.getScale(f))||{x:1,y:1}:{x:1,y:1},N=ht(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:f,strategy:u}):g);return{top:(b.top-N.top+j.top)/y.y,bottom:(N.bottom-b.bottom+j.bottom)/y.y,left:(b.left-N.left+j.left)/y.x,right:(N.right-b.right+j.right)/y.x}}const js=t=>({name:"arrow",options:t,async fn(a){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:u}=a,{element:c,padding:x=0}=Ee(t,a)||{};if(c==null)return{};const p=ia(x),v={x:r,y:n},w=tr(s),j=er(w),h=await i.getDimensions(c),m=w==="y",b=m?"top":"left",g=m?"bottom":"right",f=m?"clientHeight":"clientWidth",y=o.reference[j]+o.reference[w]-v[w]-o.floating[j],N=v[w]-o.reference[w],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let E=C?C[f]:0;(!E||!await(i.isElement==null?void 0:i.isElement(C)))&&(E=l.floating[f]||o.floating[j]);const P=y/2-N/2,A=E/2-h[j]/2-1,R=Re(p[b],A),W=Re(p[g],A),L=R,$=E-h[j]-W,V=E/2-h[j]/2+P,re=Wt(L,V,$),K=!u.arrow&&Ge(s)!=null&&V!==re&&o.reference[j]/2-(V<L?R:W)-h[j]/2<0,Y=K?V<L?V-L:V-$:0;return{[w]:v[w]+Y,data:{[w]:re,centerOffset:V-re-Y,...K&&{alignmentOffset:Y}},reset:K}}}),ks=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:u,elements:c}=a,{mainAxis:x=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:h=!0,...m}=Ee(t,a);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=Ce(s),g=ye(l),f=Ce(l)===l,y=await(u.isRTL==null?void 0:u.isRTL(c.floating)),N=v||(f||!h?[mt(l)]:xs(l)),C=j!=="none";!v&&C&&N.push(...vs(l,h,j,y));const E=[l,...N],P=await Ze(a,m),A=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(x&&A.push(P[b]),p){const V=fs(s,i,y);A.push(P[V[0]],P[V[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(V=>V<=0)){var W,L;const V=(((W=o.flip)==null?void 0:W.index)||0)+1,re=E[V];if(re&&(!(p==="alignment"?g!==ye(re):!1)||R.every(O=>O.overflows[0]>0&&ye(O.placement)===g)))return{data:{index:V,overflows:R},reset:{placement:re}};let K=(L=R.filter(Y=>Y.overflows[0]<=0).sort((Y,O)=>Y.overflows[1]-O.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(w){case"bestFit":{var $;const Y=($=R.filter(O=>{if(C){const Q=ye(O.placement);return Q===g||Q==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(Q=>Q>0).reduce((Q,S)=>Q+S,0)]).sort((O,Q)=>O[1]-Q[1])[0])==null?void 0:$[0];Y&&(K=Y);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function _r(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function Mr(t){return ds.some(a=>t[a]>=0)}const Ns=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:r}=a,{strategy:n="referenceHidden",...s}=Ee(t,a);switch(n){case"referenceHidden":{const o=await Ze(a,{...s,elementContext:"reference"}),i=_r(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Mr(i)}}}case"escaped":{const o=await Ze(a,{...s,altBoundary:!0}),i=_r(o,r.floating);return{data:{escapedOffsets:i,escaped:Mr(i)}}}default:return{}}}}},oa=new Set(["left","top"]);async function Ss(t,a){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Ce(r),l=Ge(r),u=ye(r)==="y",c=oa.has(i)?-1:1,x=o&&u?-1:1,p=Ee(a,t);let{mainAxis:v,crossAxis:w,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof j=="number"&&(w=l==="end"?j*-1:j),u?{x:w*x,y:v*c}:{x:v*c,y:w*x}}const Es=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=a,u=await Ss(a,t);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},Cs=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:r,y:n,placement:s}=a,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:m=>{let{x:b,y:g}=m;return{x:b,y:g}}},...u}=Ee(t,a),c={x:r,y:n},x=await Ze(a,u),p=ye(Ce(s)),v=Qt(p);let w=c[v],j=c[p];if(o){const m=v==="y"?"top":"left",b=v==="y"?"bottom":"right",g=w+x[m],f=w-x[b];w=Wt(g,w,f)}if(i){const m=p==="y"?"top":"left",b=p==="y"?"bottom":"right",g=j+x[m],f=j-x[b];j=Wt(g,j,f)}const h=l.fn({...a,[v]:w,[p]:j});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[v]:o,[p]:i}}}}}},Ts=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=a,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=Ee(t,a),x={x:r,y:n},p=ye(s),v=Qt(p);let w=x[v],j=x[p];const h=Ee(l,a),m=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(u){const f=v==="y"?"height":"width",y=o.reference[v]-o.floating[f]+m.mainAxis,N=o.reference[v]+o.reference[f]-m.mainAxis;w<y?w=y:w>N&&(w=N)}if(c){var b,g;const f=v==="y"?"width":"height",y=oa.has(Ce(s)),N=o.reference[p]-o.floating[f]+(y&&((b=i.offset)==null?void 0:b[p])||0)+(y?0:m.crossAxis),C=o.reference[p]+o.reference[f]+(y?0:((g=i.offset)==null?void 0:g[p])||0)-(y?m.crossAxis:0);j<N?j=N:j>C&&(j=C)}return{[v]:w,[p]:j}}}},As=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var r,n;const{placement:s,rects:o,platform:i,elements:l}=a,{apply:u=()=>{},...c}=Ee(t,a),x=await Ze(a,c),p=Ce(s),v=Ge(s),w=ye(s)==="y",{width:j,height:h}=o.floating;let m,b;p==="top"||p==="bottom"?(m=p,b=v===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=p,m=v==="end"?"top":"bottom");const g=h-x.top-x.bottom,f=j-x.left-x.right,y=Re(h-x[m],g),N=Re(j-x[b],f),C=!a.middlewareData.shift;let E=y,P=N;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(P=f),(n=a.middlewareData.shift)!=null&&n.enabled.y&&(E=g),C&&!v){const R=de(x.left,0),W=de(x.right,0),L=de(x.top,0),$=de(x.bottom,0);w?P=j-2*(R!==0||W!==0?R+W:de(x.left,x.right)):E=h-2*(L!==0||$!==0?L+$:de(x.top,x.bottom))}await u({...a,availableWidth:P,availableHeight:E});const A=await i.getDimensions(l.floating);return j!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function pt(){return typeof window<"u"}function qe(t){return la(t)?(t.nodeName||"").toLowerCase():"#document"}function ue(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function Se(t){var a;return(a=(la(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function la(t){return pt()?t instanceof Node||t instanceof ue(t).Node:!1}function pe(t){return pt()?t instanceof Element||t instanceof ue(t).Element:!1}function Ne(t){return pt()?t instanceof HTMLElement||t instanceof ue(t).HTMLElement:!1}function Dr(t){return!pt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ue(t).ShadowRoot}const Ps=new Set(["inline","contents"]);function et(t){const{overflow:a,overflowX:r,overflowY:n,display:s}=be(t);return/auto|scroll|overlay|hidden|clip/.test(a+n+r)&&!Ps.has(s)}const Rs=new Set(["table","td","th"]);function _s(t){return Rs.has(qe(t))}const Ms=[":popover-open",":modal"];function bt(t){return Ms.some(a=>{try{return t.matches(a)}catch{return!1}})}const Ds=["transform","translate","scale","rotate","perspective"],Os=["transform","translate","scale","rotate","perspective","filter"],Is=["paint","layout","strict","content"];function rr(t){const a=ar(),r=pe(t)?be(t):t;return Ds.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||Os.some(n=>(r.willChange||"").includes(n))||Is.some(n=>(r.contain||"").includes(n))}function Ls(t){let a=_e(t);for(;Ne(a)&&!Je(a);){if(rr(a))return a;if(bt(a))return null;a=_e(a)}return null}function ar(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hs=new Set(["html","body","#document"]);function Je(t){return Hs.has(qe(t))}function be(t){return ue(t).getComputedStyle(t)}function vt(t){return pe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _e(t){if(qe(t)==="html")return t;const a=t.assignedSlot||t.parentNode||Dr(t)&&t.host||Se(t);return Dr(a)?a.host:a}function ca(t){const a=_e(t);return Je(a)?t.ownerDocument?t.ownerDocument.body:t.body:Ne(a)&&et(a)?a:ca(a)}function Qe(t,a,r){var n;a===void 0&&(a=[]),r===void 0&&(r=!0);const s=ca(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=ue(s);if(o){const l=Ut(i);return a.concat(i,i.visualViewport||[],et(s)?s:[],l&&r?Qe(l):[])}return a.concat(s,Qe(s,[],r))}function Ut(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function da(t){const a=be(t);let r=parseFloat(a.width)||0,n=parseFloat(a.height)||0;const s=Ne(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,l=ut(r)!==o||ut(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function nr(t){return pe(t)?t:t.contextElement}function Ue(t){const a=nr(t);if(!Ne(a))return ke(1);const r=a.getBoundingClientRect(),{width:n,height:s,$:o}=da(a);let i=(o?ut(r.width):r.width)/n,l=(o?ut(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Bs=ke(0);function ua(t){const a=ue(t);return!ar()||!a.visualViewport?Bs:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function Fs(t,a,r){return a===void 0&&(a=!1),!r||a&&r!==ue(t)?!1:a}function Le(t,a,r,n){a===void 0&&(a=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=nr(t);let i=ke(1);a&&(n?pe(n)&&(i=Ue(n)):i=Ue(t));const l=Fs(o,r,n)?ua(o):ke(0);let u=(s.left+l.x)/i.x,c=(s.top+l.y)/i.y,x=s.width/i.x,p=s.height/i.y;if(o){const v=ue(o),w=n&&pe(n)?ue(n):n;let j=v,h=Ut(j);for(;h&&n&&w!==j;){const m=Ue(h),b=h.getBoundingClientRect(),g=be(h),f=b.left+(h.clientLeft+parseFloat(g.paddingLeft))*m.x,y=b.top+(h.clientTop+parseFloat(g.paddingTop))*m.y;u*=m.x,c*=m.y,x*=m.x,p*=m.y,u+=f,c+=y,j=ue(h),h=Ut(j)}}return ht({width:x,height:p,x:u,y:c})}function sr(t,a){const r=vt(t).scrollLeft;return a?a.left+r:Le(Se(t)).left+r}function ma(t,a,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+a.scrollLeft-(r?0:sr(t,n)),o=n.top+a.scrollTop;return{x:s,y:o}}function $s(t){let{elements:a,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Se(n),l=a?bt(a.floating):!1;if(n===i||l&&o)return r;let u={scrollLeft:0,scrollTop:0},c=ke(1);const x=ke(0),p=Ne(n);if((p||!p&&!o)&&((qe(n)!=="body"||et(i))&&(u=vt(n)),Ne(n))){const w=Le(n);c=Ue(n),x.x=w.x+n.clientLeft,x.y=w.y+n.clientTop}const v=i&&!p&&!o?ma(i,u,!0):ke(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-u.scrollLeft*c.x+x.x+v.x,y:r.y*c.y-u.scrollTop*c.y+x.y+v.y}}function Ws(t){return Array.from(t.getClientRects())}function zs(t){const a=Se(t),r=vt(t),n=t.ownerDocument.body,s=de(a.scrollWidth,a.clientWidth,n.scrollWidth,n.clientWidth),o=de(a.scrollHeight,a.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+sr(t);const l=-r.scrollTop;return be(n).direction==="rtl"&&(i+=de(a.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function Us(t,a){const r=ue(t),n=Se(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,u=0;if(s){o=s.width,i=s.height;const c=ar();(!c||c&&a==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:o,height:i,x:l,y:u}}const Vs=new Set(["absolute","fixed"]);function Ks(t,a){const r=Le(t,!0,a==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Ne(t)?Ue(t):ke(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,u=s*o.x,c=n*o.y;return{width:i,height:l,x:u,y:c}}function Or(t,a,r){let n;if(a==="viewport")n=Us(t,r);else if(a==="document")n=zs(Se(t));else if(pe(a))n=Ks(a,r);else{const s=ua(t);n={x:a.x-s.x,y:a.y-s.y,width:a.width,height:a.height}}return ht(n)}function ha(t,a){const r=_e(t);return r===a||!pe(r)||Je(r)?!1:be(r).position==="fixed"||ha(r,a)}function Js(t,a){const r=a.get(t);if(r)return r;let n=Qe(t,[],!1).filter(l=>pe(l)&&qe(l)!=="body"),s=null;const o=be(t).position==="fixed";let i=o?_e(t):t;for(;pe(i)&&!Je(i);){const l=be(i),u=rr(i);!u&&l.position==="fixed"&&(s=null),(o?!u&&!s:!u&&l.position==="static"&&!!s&&Vs.has(s.position)||et(i)&&!u&&ha(t,i))?n=n.filter(x=>x!==i):s=l,i=_e(i)}return a.set(t,n),n}function Gs(t){let{element:a,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?bt(a)?[]:Js(a,this._c):[].concat(r),n],l=i[0],u=i.reduce((c,x)=>{const p=Or(a,x,s);return c.top=de(p.top,c.top),c.right=Re(p.right,c.right),c.bottom=Re(p.bottom,c.bottom),c.left=de(p.left,c.left),c},Or(a,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qs(t){const{width:a,height:r}=da(t);return{width:a,height:r}}function Ys(t,a,r){const n=Ne(a),s=Se(a),o=r==="fixed",i=Le(t,!0,o,a);let l={scrollLeft:0,scrollTop:0};const u=ke(0);function c(){u.x=sr(s)}if(n||!n&&!o)if((qe(a)!=="body"||et(s))&&(l=vt(a)),n){const w=Le(a,!0,o,a);u.x=w.x+a.clientLeft,u.y=w.y+a.clientTop}else s&&c();o&&!n&&s&&c();const x=s&&!n&&!o?ma(s,l):ke(0),p=i.left+l.scrollLeft-u.x-x.x,v=i.top+l.scrollTop-u.y-x.y;return{x:p,y:v,width:i.width,height:i.height}}function Pt(t){return be(t).position==="static"}function Ir(t,a){if(!Ne(t)||be(t).position==="fixed")return null;if(a)return a(t);let r=t.offsetParent;return Se(t)===r&&(r=r.ownerDocument.body),r}function fa(t,a){const r=ue(t);if(bt(t))return r;if(!Ne(t)){let s=_e(t);for(;s&&!Je(s);){if(pe(s)&&!Pt(s))return s;s=_e(s)}return r}let n=Ir(t,a);for(;n&&_s(n)&&Pt(n);)n=Ir(n,a);return n&&Je(n)&&Pt(n)&&!rr(n)?r:n||Ls(t)||r}const Xs=async function(t){const a=this.getOffsetParent||fa,r=this.getDimensions,n=await r(t.floating);return{reference:Ys(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Zs(t){return be(t).direction==="rtl"}const Qs={convertOffsetParentRelativeRectToViewportRelativeRect:$s,getDocumentElement:Se,getClippingRect:Gs,getOffsetParent:fa,getElementRects:Xs,getClientRects:Ws,getDimensions:qs,getScale:Ue,isElement:pe,isRTL:Zs};function xa(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function ei(t,a){let r=null,n;const s=Se(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const c=t.getBoundingClientRect(),{left:x,top:p,width:v,height:w}=c;if(l||a(),!v||!w)return;const j=tt(p),h=tt(s.clientWidth-(x+v)),m=tt(s.clientHeight-(p+w)),b=tt(x),f={rootMargin:-j+"px "+-h+"px "+-m+"px "+-b+"px",threshold:de(0,Re(1,u))||1};let y=!0;function N(C){const E=C[0].intersectionRatio;if(E!==u){if(!y)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!xa(c,t.getBoundingClientRect())&&i(),y=!1}try{r=new IntersectionObserver(N,{...f,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,f)}r.observe(t)}return i(!0),o}function ti(t,a,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,c=nr(t),x=s||o?[...c?Qe(c):[],...Qe(a)]:[];x.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const p=c&&l?ei(c,r):null;let v=-1,w=null;i&&(w=new ResizeObserver(b=>{let[g]=b;g&&g.target===c&&w&&(w.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var f;(f=w)==null||f.observe(a)})),r()}),c&&!u&&w.observe(c),w.observe(a));let j,h=u?Le(t):null;u&&m();function m(){const b=Le(t);h&&!xa(h,b)&&r(),h=b,j=requestAnimationFrame(m)}return r(),()=>{var b;x.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),p==null||p(),(b=w)==null||b.disconnect(),w=null,u&&cancelAnimationFrame(j)}}const ri=Es,ai=Cs,ni=ks,si=As,ii=Ns,Lr=js,oi=Ts,li=(t,a,r)=>{const n=new Map,s={platform:Qs,...r},o={...s.platform,_c:n};return ys(t,a,{...s,platform:o})};var ci=typeof document<"u",di=function(){},it=ci?d.useLayoutEffect:di;function ft(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let r,n,s;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==a.length)return!1;for(n=r;n--!==0;)if(!ft(t[n],a[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(a).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(a,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!ft(t[o],a[o]))return!1}return!0}return t!==t&&a!==a}function ga(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hr(t,a){const r=ga(t);return Math.round(a*r)/r}function Rt(t){const a=d.useRef(t);return it(()=>{a.current=t}),a}function ui(t){t===void 0&&(t={});const{placement:a="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[x,p]=d.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[v,w]=d.useState(n);ft(v,n)||w(n);const[j,h]=d.useState(null),[m,b]=d.useState(null),g=d.useCallback(O=>{O!==C.current&&(C.current=O,h(O))},[]),f=d.useCallback(O=>{O!==E.current&&(E.current=O,b(O))},[]),y=o||j,N=i||m,C=d.useRef(null),E=d.useRef(null),P=d.useRef(x),A=u!=null,R=Rt(u),W=Rt(s),L=Rt(c),$=d.useCallback(()=>{if(!C.current||!E.current)return;const O={placement:a,strategy:r,middleware:v};W.current&&(O.platform=W.current),li(C.current,E.current,O).then(Q=>{const S={...Q,isPositioned:L.current!==!1};V.current&&!ft(P.current,S)&&(P.current=S,Xt.flushSync(()=>{p(S)}))})},[v,a,r,W,L]);it(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[c]);const V=d.useRef(!1);it(()=>(V.current=!0,()=>{V.current=!1}),[]),it(()=>{if(y&&(C.current=y),N&&(E.current=N),y&&N){if(R.current)return R.current(y,N,$);$()}},[y,N,$,R,A]);const re=d.useMemo(()=>({reference:C,floating:E,setReference:g,setFloating:f}),[g,f]),K=d.useMemo(()=>({reference:y,floating:N}),[y,N]),Y=d.useMemo(()=>{const O={position:r,left:0,top:0};if(!K.floating)return O;const Q=Hr(K.floating,x.x),S=Hr(K.floating,x.y);return l?{...O,transform:"translate("+Q+"px, "+S+"px)",...ga(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:S}},[r,l,K.floating,x.x,x.y]);return d.useMemo(()=>({...x,update:$,refs:re,elements:K,floatingStyles:Y}),[x,$,re,K,Y])}const mi=t=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&a(n)?n.current!=null?Lr({element:n.current,padding:s}).fn(r):{}:n?Lr({element:n,padding:s}).fn(r):{}}}},hi=(t,a)=>({...ri(t),options:[t,a]}),fi=(t,a)=>({...ai(t),options:[t,a]}),xi=(t,a)=>({...oi(t),options:[t,a]}),gi=(t,a)=>({...ni(t),options:[t,a]}),pi=(t,a)=>({...si(t),options:[t,a]}),bi=(t,a)=>({...ii(t),options:[t,a]}),vi=(t,a)=>({...mi(t),options:[t,a]});var wi="Arrow",pa=d.forwardRef((t,a)=>{const{children:r,width:n=10,height:s=5,...o}=t;return e.jsx(se.svg,{...o,ref:a,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});pa.displayName=wi;var yi=pa;function ji(t){const[a,r]=d.useState(void 0);return he(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;i=c.inlineSize,l=c.blockSize}else i=t.offsetWidth,l=t.offsetHeight;r({width:i,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),a}var ir="Popper",[ba,va]=Xr(ir),[ki,wa]=ba(ir),ya=t=>{const{__scopePopper:a,children:r}=t,[n,s]=d.useState(null);return e.jsx(ki,{scope:a,anchor:n,onAnchorChange:s,children:r})};ya.displayName=ir;var ja="PopperAnchor",ka=d.forwardRef((t,a)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=wa(ja,r),i=d.useRef(null),l=le(a,i);return d.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:e.jsx(se.div,{...s,ref:l})});ka.displayName=ja;var or="PopperContent",[Ni,Si]=ba(or),Na=d.forwardRef((t,a)=>{var T,I,ee,D,M,G;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:x=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:j,...h}=t,m=wa(or,r),[b,g]=d.useState(null),f=le(a,J=>g(J)),[y,N]=d.useState(null),C=ji(y),E=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,A=n+(o!=="center"?"-"+o:""),R=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},W=Array.isArray(c)?c:[c],L=W.length>0,$={padding:R,boundary:W.filter(Ci),altBoundary:L},{refs:V,floatingStyles:re,placement:K,isPositioned:Y,middlewareData:O}=ui({strategy:"fixed",placement:A,whileElementsMounted:(...J)=>ti(...J,{animationFrame:w==="always"}),elements:{reference:m.anchor},middleware:[hi({mainAxis:s+P,alignmentAxis:i}),u&&fi({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?xi():void 0,...$}),u&&gi({...$}),pi({...$,apply:({elements:J,rects:Z,availableWidth:ne,availableHeight:ce})=>{const{width:ae,height:ve}=Z.reference,Oe=J.floating.style;Oe.setProperty("--radix-popper-available-width",`${ne}px`),Oe.setProperty("--radix-popper-available-height",`${ce}px`),Oe.setProperty("--radix-popper-anchor-width",`${ae}px`),Oe.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),y&&vi({element:y,padding:l}),Ti({arrowWidth:E,arrowHeight:P}),v&&bi({strategy:"referenceHidden",...$})]}),[Q,S]=Ca(K),F=Ie(j);he(()=>{Y&&(F==null||F())},[Y,F]);const _=(T=O.arrow)==null?void 0:T.x,H=(I=O.arrow)==null?void 0:I.y,q=((ee=O.arrow)==null?void 0:ee.centerOffset)!==0,[X,B]=d.useState();return he(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),e.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:Y?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(D=O.transformOrigin)==null?void 0:D.x,(M=O.transformOrigin)==null?void 0:M.y].join(" "),...((G=O.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Ni,{scope:r,placedSide:Q,onArrowChange:N,arrowX:_,arrowY:H,shouldHideArrow:q,children:e.jsx(se.div,{"data-side":Q,"data-align":S,...h,ref:f,style:{...h.style,animation:Y?void 0:"none"}})})})});Na.displayName=or;var Sa="PopperArrow",Ei={top:"bottom",right:"left",bottom:"top",left:"right"},Ea=d.forwardRef(function(a,r){const{__scopePopper:n,...s}=a,o=Si(Sa,n),i=Ei[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(yi,{...s,ref:r,style:{...s.style,display:"block"}})})});Ea.displayName=Sa;function Ci(t){return t!==null}var Ti=t=>({name:"transformOrigin",options:t,fn(a){var m,b,g;const{placement:r,rects:n,middlewareData:s}=a,i=((m=s.arrow)==null?void 0:m.centerOffset)!==0,l=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[c,x]=Ca(r),p={start:"0%",center:"50%",end:"100%"}[x],v=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,w=(((g=s.arrow)==null?void 0:g.y)??0)+u/2;let j="",h="";return c==="bottom"?(j=i?p:`${v}px`,h=`${-u}px`):c==="top"?(j=i?p:`${v}px`,h=`${n.floating.height+u}px`):c==="right"?(j=`${-u}px`,h=i?p:`${w}px`):c==="left"&&(j=`${n.floating.width+u}px`,h=i?p:`${w}px`),{data:{x:j,y:h}}}});function Ca(t){const[a,r="center"]=t.split("-");return[a,r]}var Ai=ya,Pi=ka,Ri=Na,_i=Ea,Mi="Portal",Ta=d.forwardRef((t,a)=>{var l;const{container:r,...n}=t,[s,o]=d.useState(!1);he(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wn.createPortal(e.jsx(se.div,{...n,ref:a}),i):null});Ta.displayName=Mi;function Di(t){const a=d.useRef({value:t,previous:t});return d.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var Aa=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Oi="VisuallyHidden",Ii=d.forwardRef((t,a)=>e.jsx(se.span,{...t,ref:a,style:{...Aa,...t.style}}));Ii.displayName=Oi;var Li=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},Fe=new WeakMap,rt=new WeakMap,at={},_t=0,Pa=function(t){return t&&(t.host||Pa(t.parentNode))},Hi=function(t,a){return a.map(function(r){if(t.contains(r))return r;var n=Pa(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Bi=function(t,a,r,n){var s=Hi(a,Array.isArray(t)?t:[t]);at[r]||(at[r]=new WeakMap);var o=at[r],i=[],l=new Set,u=new Set(s),c=function(p){!p||l.has(p)||(l.add(p),c(p.parentNode))};s.forEach(c);var x=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))x(v);else try{var w=v.getAttribute(n),j=w!==null&&w!=="false",h=(Fe.get(v)||0)+1,m=(o.get(v)||0)+1;Fe.set(v,h),o.set(v,m),i.push(v),h===1&&j&&rt.set(v,!0),m===1&&v.setAttribute(r,"true"),j||v.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return x(a),l.clear(),_t++,function(){i.forEach(function(p){var v=Fe.get(p)-1,w=o.get(p)-1;Fe.set(p,v),o.set(p,w),v||(rt.has(p)||p.removeAttribute(n),rt.delete(p)),w||p.removeAttribute(r)}),_t--,_t||(Fe=new WeakMap,Fe=new WeakMap,rt=new WeakMap,at={})}},Fi=function(t,a,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Li(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Bi(n,s,r,"aria-hidden")):function(){return null}},we=function(){return we=Object.assign||function(a){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},we.apply(this,arguments)};function Ra(t,a){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function $i(t,a,r){if(r||arguments.length===2)for(var n=0,s=a.length,o;n<s;n++)(o||!(n in a))&&(o||(o=Array.prototype.slice.call(a,0,n)),o[n]=a[n]);return t.concat(o||Array.prototype.slice.call(a))}var ot="right-scroll-bar-position",lt="width-before-scroll-bar",Wi="with-scroll-bars-hidden",zi="--removed-body-scroll-bar-size";function Mt(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function Ui(t,a){var r=d.useState(function(){return{value:t,callback:a,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=a,r.facade}var Vi=typeof window<"u"?d.useLayoutEffect:d.useEffect,Br=new WeakMap;function Ki(t,a){var r=Ui(null,function(n){return t.forEach(function(s){return Mt(s,n)})});return Vi(function(){var n=Br.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(l){o.has(l)||Mt(l,null)}),o.forEach(function(l){s.has(l)||Mt(l,i)})}Br.set(r,t)},[t]),r}function Ji(t){return t}function Gi(t,a){a===void 0&&(a=Ji);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=a(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var u=function(){var x=i;i=[],x.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),r={push:function(x){i.push(x),c()},filter:function(x){return i=i.filter(x),r}}}};return s}function qi(t){t===void 0&&(t={});var a=Gi(null);return a.options=we({async:!0,ssr:!1},t),a}var _a=function(t){var a=t.sideCar,r=Ra(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=a.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,we({},r))};_a.isSideCarExport=!0;function Yi(t,a){return t.useMedium(a),_a}var Ma=qi(),Dt=function(){},wt=d.forwardRef(function(t,a){var r=d.useRef(null),n=d.useState({onScrollCapture:Dt,onWheelCapture:Dt,onTouchMoveCapture:Dt}),s=n[0],o=n[1],i=t.forwardProps,l=t.children,u=t.className,c=t.removeScrollBar,x=t.enabled,p=t.shards,v=t.sideCar,w=t.noRelative,j=t.noIsolation,h=t.inert,m=t.allowPinchZoom,b=t.as,g=b===void 0?"div":b,f=t.gapMode,y=Ra(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=v,C=Ki([r,a]),E=we(we({},y),s);return d.createElement(d.Fragment,null,x&&d.createElement(N,{sideCar:Ma,removeScrollBar:c,shards:p,noRelative:w,noIsolation:j,inert:h,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:f}),i?d.cloneElement(d.Children.only(l),we(we({},E),{ref:C})):d.createElement(g,we({},E,{className:u,ref:C}),l))});wt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wt.classNames={fullWidth:lt,zeroRight:ot};var Xi=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zi(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=Xi();return a&&t.setAttribute("nonce",a),t}function Qi(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function eo(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var to=function(){var t=0,a=null;return{add:function(r){t==0&&(a=Zi())&&(Qi(a,r),eo(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},ro=function(){var t=to();return function(a,r){d.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&r])}},Da=function(){var t=ro(),a=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return a},ao={left:0,top:0,right:0,gap:0},Ot=function(t){return parseInt(t||"",10)||0},no=function(t){var a=window.getComputedStyle(document.body),r=a[t==="padding"?"paddingLeft":"marginLeft"],n=a[t==="padding"?"paddingTop":"marginTop"],s=a[t==="padding"?"paddingRight":"marginRight"];return[Ot(r),Ot(n),Ot(s)]},so=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ao;var a=no(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,n-r+a[2]-a[0])}},io=Da(),Ve="data-scroll-locked",oo=function(t,a,r,n){var s=t.left,o=t.top,i=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Wi,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ve,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ot,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lt,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ot," .").concat(ot,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lt," .").concat(lt,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ve,`] {
    `).concat(zi,": ").concat(l,`px;
  }
`)},Fr=function(){var t=parseInt(document.body.getAttribute(Ve)||"0",10);return isFinite(t)?t:0},lo=function(){d.useEffect(function(){return document.body.setAttribute(Ve,(Fr()+1).toString()),function(){var t=Fr()-1;t<=0?document.body.removeAttribute(Ve):document.body.setAttribute(Ve,t.toString())}},[])},co=function(t){var a=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;lo();var o=d.useMemo(function(){return so(s)},[s]);return d.createElement(io,{styles:oo(o,!a,s,r?"":"!important")})},Vt=!1;if(typeof window<"u")try{var nt=Object.defineProperty({},"passive",{get:function(){return Vt=!0,!0}});window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Vt=!1}var $e=Vt?{passive:!1}:!1,uo=function(t){return t.tagName==="TEXTAREA"},Oa=function(t,a){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!uo(t)&&r[a]==="visible")},mo=function(t){return Oa(t,"overflowY")},ho=function(t){return Oa(t,"overflowX")},$r=function(t,a){var r=a.ownerDocument,n=a;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Ia(t,n);if(s){var o=La(t,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},fo=function(t){var a=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[a,r,n]},xo=function(t){var a=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[a,r,n]},Ia=function(t,a){return t==="v"?mo(a):ho(a)},La=function(t,a){return t==="v"?fo(a):xo(a)},go=function(t,a){return t==="h"&&a==="rtl"?-1:1},po=function(t,a,r,n,s){var o=go(t,window.getComputedStyle(a).direction),i=o*n,l=r.target,u=a.contains(l),c=!1,x=i>0,p=0,v=0;do{if(!l)break;var w=La(t,l),j=w[0],h=w[1],m=w[2],b=h-m-o*j;(j||b)&&Ia(t,l)&&(p+=b,v+=j);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!u&&l!==document.body||u&&(a.contains(l)||a===l));return(x&&Math.abs(p)<1||!x&&Math.abs(v)<1)&&(c=!0),c},st=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wr=function(t){return[t.deltaX,t.deltaY]},zr=function(t){return t&&"current"in t?t.current:t},bo=function(t,a){return t[0]===a[0]&&t[1]===a[1]},vo=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wo=0,We=[];function yo(t){var a=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(wo++)[0],o=d.useState(Da)[0],i=d.useRef(t);d.useEffect(function(){i.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var h=$i([t.lockRef.current],(t.shards||[]).map(zr),!0).filter(Boolean);return h.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(h,m){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!i.current.allowPinchZoom;var b=st(h),g=r.current,f="deltaX"in h?h.deltaX:g[0]-b[0],y="deltaY"in h?h.deltaY:g[1]-b[1],N,C=h.target,E=Math.abs(f)>Math.abs(y)?"h":"v";if("touches"in h&&E==="h"&&C.type==="range")return!1;var P=$r(E,C);if(!P)return!0;if(P?N=E:(N=E==="v"?"h":"v",P=$r(E,C)),!P)return!1;if(!n.current&&"changedTouches"in h&&(f||y)&&(n.current=N),!N)return!0;var A=n.current||N;return po(A,m,h,A==="h"?f:y)},[]),u=d.useCallback(function(h){var m=h;if(!(!We.length||We[We.length-1]!==o)){var b="deltaY"in m?Wr(m):st(m),g=a.current.filter(function(N){return N.name===m.type&&(N.target===m.target||m.target===N.shadowParent)&&bo(N.delta,b)})[0];if(g&&g.should){m.cancelable&&m.preventDefault();return}if(!g){var f=(i.current.shards||[]).map(zr).filter(Boolean).filter(function(N){return N.contains(m.target)}),y=f.length>0?l(m,f[0]):!i.current.noIsolation;y&&m.cancelable&&m.preventDefault()}}},[]),c=d.useCallback(function(h,m,b,g){var f={name:h,delta:m,target:b,should:g,shadowParent:jo(b)};a.current.push(f),setTimeout(function(){a.current=a.current.filter(function(y){return y!==f})},1)},[]),x=d.useCallback(function(h){r.current=st(h),n.current=void 0},[]),p=d.useCallback(function(h){c(h.type,Wr(h),h.target,l(h,t.lockRef.current))},[]),v=d.useCallback(function(h){c(h.type,st(h),h.target,l(h,t.lockRef.current))},[]);d.useEffect(function(){return We.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,$e),document.addEventListener("touchmove",u,$e),document.addEventListener("touchstart",x,$e),function(){We=We.filter(function(h){return h!==o}),document.removeEventListener("wheel",u,$e),document.removeEventListener("touchmove",u,$e),document.removeEventListener("touchstart",x,$e)}},[]);var w=t.removeScrollBar,j=t.inert;return d.createElement(d.Fragment,null,j?d.createElement(o,{styles:vo(s)}):null,w?d.createElement(co,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jo(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const ko=Yi(Ma,yo);var Ha=d.forwardRef(function(t,a){return d.createElement(wt,we({},t,{ref:a,sideCar:ko}))});Ha.classNames=wt.classNames;var No=[" ","Enter","ArrowUp","ArrowDown"],So=[" ","Enter"],He="Select",[yt,jt,Eo]=jn(He),[Ye,Nl]=Xr(He,[Eo,va]),kt=va(),[Co,Me]=Ye(He),[To,Ao]=Ye(He),Ba=t=>{const{__scopeSelect:a,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:u,dir:c,name:x,autoComplete:p,disabled:v,required:w,form:j}=t,h=kt(a),[m,b]=d.useState(null),[g,f]=d.useState(null),[y,N]=d.useState(!1),C=yn(c),[E,P]=mr({prop:n,defaultProp:s??!1,onChange:o,caller:He}),[A,R]=mr({prop:i,defaultProp:l,onChange:u,caller:He}),W=d.useRef(null),L=m?j||!!m.closest("form"):!0,[$,V]=d.useState(new Set),re=Array.from($).map(K=>K.props.value).join(";");return e.jsx(Ai,{...h,children:e.jsxs(Co,{required:w,scope:a,trigger:m,onTriggerChange:b,valueNode:g,onValueNodeChange:f,valueNodeHasChildren:y,onValueNodeHasChildrenChange:N,contentId:Zt(),value:A,onValueChange:R,open:E,onOpenChange:P,dir:C,triggerPointerDownPosRef:W,disabled:v,children:[e.jsx(yt.Provider,{scope:a,children:e.jsx(To,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(K=>{V(Y=>new Set(Y).add(K))},[]),onNativeOptionRemove:d.useCallback(K=>{V(Y=>{const O=new Set(Y);return O.delete(K),O})},[]),children:r})}),L?e.jsxs(ln,{"aria-hidden":!0,required:w,tabIndex:-1,name:x,autoComplete:p,value:A,onChange:K=>R(K.target.value),disabled:v,form:j,children:[A===void 0?e.jsx("option",{value:""}):null,Array.from($)]},re):null]})})};Ba.displayName=He;var Fa="SelectTrigger",$a=d.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=kt(r),i=Me(Fa,r),l=i.disabled||n,u=le(a,i.onTriggerChange),c=jt(r),x=d.useRef("touch"),[p,v,w]=dn(h=>{const m=c().filter(f=>!f.disabled),b=m.find(f=>f.value===i.value),g=un(m,h,b);g!==void 0&&i.onValueChange(g.value)}),j=h=>{l||(i.onOpenChange(!0),w()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(Pi,{asChild:!0,...o,children:e.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cn(i.value)?"":void 0,...s,ref:u,onClick:ie(s.onClick,h=>{h.currentTarget.focus(),x.current!=="mouse"&&j(h)}),onPointerDown:ie(s.onPointerDown,h=>{x.current=h.pointerType;const m=h.target;m.hasPointerCapture(h.pointerId)&&m.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(j(h),h.preventDefault())}),onKeyDown:ie(s.onKeyDown,h=>{const m=p.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&v(h.key),!(m&&h.key===" ")&&No.includes(h.key)&&(j(),h.preventDefault())})})})});$a.displayName=Fa;var Wa="SelectValue",za=d.forwardRef((t,a)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=t,u=Me(Wa,r),{onValueNodeHasChildrenChange:c}=u,x=o!==void 0,p=le(a,u.onValueNodeChange);return he(()=>{c(x)},[c,x]),e.jsx(se.span,{...l,ref:p,style:{pointerEvents:"none"},children:cn(u.value)?e.jsx(e.Fragment,{children:i}):o})});za.displayName=Wa;var Po="SelectIcon",Ua=d.forwardRef((t,a)=>{const{__scopeSelect:r,children:n,...s}=t;return e.jsx(se.span,{"aria-hidden":!0,...s,ref:a,children:n||"â–¼"})});Ua.displayName=Po;var Ro="SelectPortal",Va=t=>e.jsx(Ta,{asChild:!0,...t});Va.displayName=Ro;var Be="SelectContent",Ka=d.forwardRef((t,a)=>{const r=Me(Be,t.__scopeSelect),[n,s]=d.useState();if(he(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Xt.createPortal(e.jsx(Ja,{scope:t.__scopeSelect,children:e.jsx(yt.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(Ga,{...t,ref:a})});Ka.displayName=Be;var fe=10,[Ja,De]=Ye(Be),_o="SelectContentImpl",Mo=kn("SelectContent.RemoveScroll"),Ga=d.forwardRef((t,a)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:u,align:c,alignOffset:x,arrowPadding:p,collisionBoundary:v,collisionPadding:w,sticky:j,hideWhenDetached:h,avoidCollisions:m,...b}=t,g=Me(Be,r),[f,y]=d.useState(null),[N,C]=d.useState(null),E=le(a,T=>y(T)),[P,A]=d.useState(null),[R,W]=d.useState(null),L=jt(r),[$,V]=d.useState(!1),re=d.useRef(!1);d.useEffect(()=>{if(f)return Fi(f)},[f]),rs();const K=d.useCallback(T=>{const[I,...ee]=L().map(G=>G.ref.current),[D]=ee.slice(-1),M=document.activeElement;for(const G of T)if(G===M||(G==null||G.scrollIntoView({block:"nearest"}),G===I&&N&&(N.scrollTop=0),G===D&&N&&(N.scrollTop=N.scrollHeight),G==null||G.focus(),document.activeElement!==M))return},[L,N]),Y=d.useCallback(()=>K([P,f]),[K,P,f]);d.useEffect(()=>{$&&Y()},[$,Y]);const{onOpenChange:O,triggerPointerDownPosRef:Q}=g;d.useEffect(()=>{if(f){let T={x:0,y:0};const I=D=>{var M,G;T={x:Math.abs(Math.round(D.pageX)-(((M=Q.current)==null?void 0:M.x)??0)),y:Math.abs(Math.round(D.pageY)-(((G=Q.current)==null?void 0:G.y)??0))}},ee=D=>{T.x<=10&&T.y<=10?D.preventDefault():f.contains(D.target)||O(!1),document.removeEventListener("pointermove",I),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",ee,{capture:!0})}}},[f,O,Q]),d.useEffect(()=>{const T=()=>O(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[O]);const[S,F]=dn(T=>{const I=L().filter(M=>!M.disabled),ee=I.find(M=>M.ref.current===document.activeElement),D=un(I,T,ee);D&&setTimeout(()=>D.ref.current.focus())}),_=d.useCallback((T,I,ee)=>{const D=!re.current&&!ee;(g.value!==void 0&&g.value===I||D)&&(A(T),D&&(re.current=!0))},[g.value]),H=d.useCallback(()=>f==null?void 0:f.focus(),[f]),q=d.useCallback((T,I,ee)=>{const D=!re.current&&!ee;(g.value!==void 0&&g.value===I||D)&&W(T)},[g.value]),X=n==="popper"?Kt:qa,B=X===Kt?{side:l,sideOffset:u,align:c,alignOffset:x,arrowPadding:p,collisionBoundary:v,collisionPadding:w,sticky:j,hideWhenDetached:h,avoidCollisions:m}:{};return e.jsx(Ja,{scope:r,content:f,viewport:N,onViewportChange:C,itemRefCallback:_,selectedItem:P,onItemLeave:H,itemTextRefCallback:q,focusSelectedItem:Y,selectedItemText:R,position:n,isPositioned:$,searchRef:S,children:e.jsx(Ha,{as:Mo,allowPinchZoom:!0,children:e.jsx(na,{asChild:!0,trapped:g.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:ie(s,T=>{var I;(I=g.trigger)==null||I.focus({preventScroll:!0}),T.preventDefault()}),children:e.jsx(ra,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(X,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:T=>T.preventDefault(),...b,...B,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ie(b.onKeyDown,T=>{const I=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!I&&T.key.length===1&&F(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let D=L().filter(M=>!M.disabled).map(M=>M.ref.current);if(["ArrowUp","End"].includes(T.key)&&(D=D.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const M=T.target,G=D.indexOf(M);D=D.slice(G+1)}setTimeout(()=>K(D)),T.preventDefault()}})})})})})})});Ga.displayName=_o;var Do="SelectItemAlignedPosition",qa=d.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Me(Be,r),i=De(Be,r),[l,u]=d.useState(null),[c,x]=d.useState(null),p=le(a,E=>x(E)),v=jt(r),w=d.useRef(!1),j=d.useRef(!0),{viewport:h,selectedItem:m,selectedItemText:b,focusSelectedItem:g}=i,f=d.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&h&&m&&b){const E=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(o.dir!=="rtl"){const M=R.left-P.left,G=A.left-M,J=E.left-G,Z=E.width+J,ne=Math.max(Z,P.width),ce=window.innerWidth-fe,ae=yr(G,[fe,Math.max(fe,ce-ne)]);l.style.minWidth=Z+"px",l.style.left=ae+"px"}else{const M=P.right-R.right,G=window.innerWidth-A.right-M,J=window.innerWidth-E.right-G,Z=E.width+J,ne=Math.max(Z,P.width),ce=window.innerWidth-fe,ae=yr(G,[fe,Math.max(fe,ce-ne)]);l.style.minWidth=Z+"px",l.style.right=ae+"px"}const W=v(),L=window.innerHeight-fe*2,$=h.scrollHeight,V=window.getComputedStyle(c),re=parseInt(V.borderTopWidth,10),K=parseInt(V.paddingTop,10),Y=parseInt(V.borderBottomWidth,10),O=parseInt(V.paddingBottom,10),Q=re+K+$+O+Y,S=Math.min(m.offsetHeight*5,Q),F=window.getComputedStyle(h),_=parseInt(F.paddingTop,10),H=parseInt(F.paddingBottom,10),q=E.top+E.height/2-fe,X=L-q,B=m.offsetHeight/2,T=m.offsetTop+B,I=re+K+T,ee=Q-I;if(I<=q){const M=W.length>0&&m===W[W.length-1].ref.current;l.style.bottom="0px";const G=c.clientHeight-h.offsetTop-h.offsetHeight,J=Math.max(X,B+(M?H:0)+G+Y),Z=I+J;l.style.height=Z+"px"}else{const M=W.length>0&&m===W[0].ref.current;l.style.top="0px";const J=Math.max(q,re+h.offsetTop+(M?_:0)+B)+ee;l.style.height=J+"px",h.scrollTop=I-q+h.offsetTop}l.style.margin=`${fe}px 0`,l.style.minHeight=S+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[v,o.trigger,o.valueNode,l,c,h,m,b,o.dir,n]);he(()=>f(),[f]);const[y,N]=d.useState();he(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const C=d.useCallback(E=>{E&&j.current===!0&&(f(),g==null||g(),j.current=!1)},[f,g]);return e.jsx(Io,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:C,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:e.jsx(se.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});qa.displayName=Do;var Oo="SelectPopperPosition",Kt=d.forwardRef((t,a)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=fe,...o}=t,i=kt(r);return e.jsx(Ri,{...i,...o,ref:a,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kt.displayName=Oo;var[Io,lr]=Ye(Be,{}),Jt="SelectViewport",Ya=d.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=De(Jt,r),i=lr(Jt,r),l=le(a,o.onViewportChange),u=d.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(yt.Slot,{scope:r,children:e.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,c=>{const x=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=i;if(v!=null&&v.current&&p){const w=Math.abs(u.current-x.scrollTop);if(w>0){const j=window.innerHeight-fe*2,h=parseFloat(p.style.minHeight),m=parseFloat(p.style.height),b=Math.max(h,m);if(b<j){const g=b+w,f=Math.min(j,g),y=g-f;p.style.height=f+"px",p.style.bottom==="0px"&&(x.scrollTop=y>0?y:0,p.style.justifyContent="flex-end")}}}u.current=x.scrollTop})})})]})});Ya.displayName=Jt;var Xa="SelectGroup",[Lo,Ho]=Ye(Xa),Bo=d.forwardRef((t,a)=>{const{__scopeSelect:r,...n}=t,s=Zt();return e.jsx(Lo,{scope:r,id:s,children:e.jsx(se.div,{role:"group","aria-labelledby":s,...n,ref:a})})});Bo.displayName=Xa;var Za="SelectLabel",Fo=d.forwardRef((t,a)=>{const{__scopeSelect:r,...n}=t,s=Ho(Za,r);return e.jsx(se.div,{id:s.id,...n,ref:a})});Fo.displayName=Za;var xt="SelectItem",[$o,Qa]=Ye(xt),en=d.forwardRef((t,a)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,l=Me(xt,r),u=De(xt,r),c=l.value===n,[x,p]=d.useState(o??""),[v,w]=d.useState(!1),j=le(a,g=>{var f;return(f=u.itemRefCallback)==null?void 0:f.call(u,g,n,s)}),h=Zt(),m=d.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx($o,{scope:r,value:n,disabled:s,textId:h,isSelected:c,onItemTextChange:d.useCallback(g=>{p(f=>f||((g==null?void 0:g.textContent)??"").trim())},[]),children:e.jsx(yt.ItemSlot,{scope:r,value:n,disabled:s,textValue:x,children:e.jsx(se.div,{role:"option","aria-labelledby":h,"data-highlighted":v?"":void 0,"aria-selected":c&&v,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:j,onFocus:ie(i.onFocus,()=>w(!0)),onBlur:ie(i.onBlur,()=>w(!1)),onClick:ie(i.onClick,()=>{m.current!=="mouse"&&b()}),onPointerUp:ie(i.onPointerUp,()=>{m.current==="mouse"&&b()}),onPointerDown:ie(i.onPointerDown,g=>{m.current=g.pointerType}),onPointerMove:ie(i.onPointerMove,g=>{var f;m.current=g.pointerType,s?(f=u.onItemLeave)==null||f.call(u):m.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(i.onPointerLeave,g=>{var f;g.currentTarget===document.activeElement&&((f=u.onItemLeave)==null||f.call(u))}),onKeyDown:ie(i.onKeyDown,g=>{var y;((y=u.searchRef)==null?void 0:y.current)!==""&&g.key===" "||(So.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});en.displayName=xt;var Xe="SelectItemText",tn=d.forwardRef((t,a)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=Me(Xe,r),l=De(Xe,r),u=Qa(Xe,r),c=Ao(Xe,r),[x,p]=d.useState(null),v=le(a,b=>p(b),u.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,u.value,u.disabled)}),w=x==null?void 0:x.textContent,j=d.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:h,onNativeOptionRemove:m}=c;return he(()=>(h(j),()=>m(j)),[h,m,j]),e.jsxs(e.Fragment,{children:[e.jsx(se.span,{id:u.textId,...o,ref:v}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Xt.createPortal(o.children,i.valueNode):null]})});tn.displayName=Xe;var rn="SelectItemIndicator",an=d.forwardRef((t,a)=>{const{__scopeSelect:r,...n}=t;return Qa(rn,r).isSelected?e.jsx(se.span,{"aria-hidden":!0,...n,ref:a}):null});an.displayName=rn;var Gt="SelectScrollUpButton",nn=d.forwardRef((t,a)=>{const r=De(Gt,t.__scopeSelect),n=lr(Gt,t.__scopeSelect),[s,o]=d.useState(!1),i=le(a,n.onScrollButtonChange);return he(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=u.scrollTop>0;o(c)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?e.jsx(on,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});nn.displayName=Gt;var qt="SelectScrollDownButton",sn=d.forwardRef((t,a)=>{const r=De(qt,t.__scopeSelect),n=lr(qt,t.__scopeSelect),[s,o]=d.useState(!1),i=le(a,n.onScrollButtonChange);return he(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=u.scrollHeight-u.clientHeight,x=Math.ceil(u.scrollTop)<c;o(x)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?e.jsx(on,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});sn.displayName=qt;var on=d.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=De("SelectScrollButton",r),i=d.useRef(null),l=jt(r),u=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>u(),[u]),he(()=>{var x;const c=l().find(p=>p.ref.current===document.activeElement);(x=c==null?void 0:c.ref.current)==null||x.scrollIntoView({block:"nearest"})},[l]),e.jsx(se.div,{"aria-hidden":!0,...s,ref:a,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ie(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{u()})})}),Wo="SelectSeparator",zo=d.forwardRef((t,a)=>{const{__scopeSelect:r,...n}=t;return e.jsx(se.div,{"aria-hidden":!0,...n,ref:a})});zo.displayName=Wo;var Yt="SelectArrow",Uo=d.forwardRef((t,a)=>{const{__scopeSelect:r,...n}=t,s=kt(r),o=Me(Yt,r),i=De(Yt,r);return o.open&&i.position==="popper"?e.jsx(_i,{...s,...n,ref:a}):null});Uo.displayName=Yt;var Vo="SelectBubbleInput",ln=d.forwardRef(({__scopeSelect:t,value:a,...r},n)=>{const s=d.useRef(null),o=le(n,s),i=Di(a);return d.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==a&&x){const p=new Event("change",{bubbles:!0});x.call(l,a),l.dispatchEvent(p)}},[i,a]),e.jsx(se.select,{...r,style:{...Aa,...r.style},ref:o,defaultValue:a})});ln.displayName=Vo;function cn(t){return t===""||t===void 0}function dn(t){const a=Ie(t),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(i=>{const l=r.current+i;a(l),function u(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[a]),o=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function un(t,a,r){const s=a.length>1&&Array.from(a).every(c=>c===a[0])?a[0]:a,o=r?t.indexOf(r):-1;let i=Ko(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const u=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function Ko(t,a){return t.map((r,n)=>t[(a+n)%t.length])}var Jo=Ba,Go=$a,qo=za,Yo=Ua,Xo=Va,Zo=Ka,Qo=Ya,el=en,tl=tn,rl=an,al=nn,nl=sn;function sl({...t}){return e.jsx(Jo,{"data-slot":"select",...t})}function il({...t}){return e.jsx(qo,{"data-slot":"select-value",...t})}function ol({className:t,size:a="default",children:r,...n}){return e.jsxs(Go,{"data-slot":"select-trigger","data-size":a,className:Ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,e.jsx(Yo,{asChild:!0,children:e.jsx(ea,{className:"size-4 opacity-50"})})]})}function ll({className:t,children:a,position:r="popper",...n}){return e.jsx(Xo,{children:e.jsxs(Zo,{"data-slot":"select-content",className:Ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(cl,{}),e.jsx(Qo,{className:Ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),e.jsx(dl,{})]})})}function It({className:t,children:a,...r}){return e.jsxs(el,{"data-slot":"select-item",className:Ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(rl,{children:e.jsx(Fn,{className:"size-4"})})}),e.jsx(tl,{children:a})]})}function cl({className:t,...a}){return e.jsx(al,{"data-slot":"select-scroll-up-button",className:Ke("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx($n,{className:"size-4"})})}function dl({className:t,...a}){return e.jsx(nl,{"data-slot":"select-scroll-down-button",className:Ke("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(ea,{className:"size-4"})})}function ul(){var g;const[t,a]=d.useState(null),[r,n]=d.useState(!0),[s,o]=d.useState([]),[i,l]=d.useState(null),[u,c]=d.useState(!0),[x,p]=d.useState("month");d.useEffect(()=>{const f=async()=>{try{n(!0);const N=await fetch("/api/v2/dashboards/paramedis/",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(N.ok){const C=await N.json();C.success&&C.data&&a(C.data)}else console.error("Failed to fetch dashboard stats:",N.status)}catch(N){console.error("Error fetching dashboard stats:",N)}finally{n(!1)}},y=async()=>{try{c(!0);const N=new URLSearchParams;N.append("filter",x);const C=await fetch(`/api/v2/dashboards/paramedis/presensi?${N}`,{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(C.ok){const E=await C.json();if(E.success&&E.data){const P=E.data.history.map(A=>({id:A.id,tanggal:A.date,hari:new Date(A.date).toLocaleDateString("id-ID",{weekday:"long"}),masuk:A.time_in||"-",keluar:A.time_out||"-",totalJam:A.work_duration||"0 jam",status:A.status==="on_time"?"present":A.status==="late"?"late":A.status==="early_leave"?"present":"absent",shift:"Shift",lokasi:A.location_name_in||"Lokasi Kerja"}));o(P),l(E.data.stats)}}else console.error("Failed to fetch attendance data:",C.status)}catch(N){console.error("Error fetching attendance data:",N)}finally{c(!1)}};f(),y()},[x]);const v=i?{totalHadir:i.on_time||0,totalTerlambat:i.late||0,totalTidakHadir:Math.max(0,i.total_days-i.on_time-i.late),totalJamKerja:Math.round(i.total_hours||0),rataRataJamPerHari:i.total_days>0?Math.round(i.total_hours/i.total_days*10)/10:0,tingkatKehadiran:(g=t==null?void 0:t.performance)!=null&&g.attendance_rate?Math.round(t.performance.attendance_rate):i.total_days>0?Math.round((i.on_time+i.late)/i.total_days*100):0}:{totalHadir:0,totalTerlambat:0,totalTidakHadir:0,totalJamKerja:0,rataRataJamPerHari:0,tingkatKehadiran:0},w=f=>{switch(f){case"present":return"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700";case"late":return"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"absent":return"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},j=f=>{switch(f){case"present":return e.jsx(ze,{className:"w-4 h-4"});case"late":return e.jsx(Ht,{className:"w-4 h-4"});case"absent":return e.jsx(Bt,{className:"w-4 h-4"});default:return e.jsx(me,{className:"w-4 h-4"})}},h=f=>new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),m={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},b={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(k.div,{variants:m,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:b,children:e.jsx(z,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Nn,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Laporan Presensi"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm font-medium text-mobile-friendly",children:"Riwayat & analisis kehadiran"})]})]}),e.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(te,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 dark:hover:bg-white/25 gap-2 backdrop-blur-sm border border-white/30 dark:border-white/40 font-medium transition-colors duration-300",children:[e.jsx(Sn,{className:"w-4 h-4"}),"Unduh"]})})]})})})}),e.jsx(k.div,{variants:b,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(On,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Ringkasan Bulan Ini"]})}),e.jsxs(U,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(k.div,{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(ze,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:v.totalHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Hadir"})]}),e.jsxs(k.div,{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(Ht,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:v.totalTerlambat}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Terlambat"})]}),e.jsxs(k.div,{className:"text-center p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/30 rounded-xl border border-red-200 dark:border-red-700",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx(Bt,{className:"w-6 h-6 text-red-600 dark:text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:v.totalTidakHadir}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Tidak Hadir"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-high-contrast",children:"Tingkat Kehadiran"}),e.jsx("span",{className:"text-lg font-bold text-high-contrast",children:r?e.jsx("span",{className:"animate-pulse",children:"â³"}):`${v.tingkatKehadiran}%`})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx(k.div,{className:"bg-gradient-to-r from-green-500 to-green-600 dark:from-green-400 dark:to-green-500 h-3 rounded-full",initial:{width:0},animate:{width:`${v.tingkatKehadiran}%`},transition:{duration:1.5,delay:.5}})})]})]})]})}),e.jsxs(k.div,{variants:b,className:"grid grid-cols-2 gap-4",children:[e.jsx(z,{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 border-0 shadow-lg card-enhanced",children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-100 dark:text-blue-200 font-medium",children:"Total Jam"}),e.jsxs("p",{className:"text-xl font-semibold",children:[v.totalJamKerja,"h"]})]})]})})}),e.jsx(z,{className:"bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 border-0 shadow-lg card-enhanced",children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-100 dark:text-purple-200 font-medium",children:"Rata-rata/Hari"}),e.jsxs("p",{className:"text-xl font-semibold",children:[v.rataRataJamPerHari,"h"]})]})]})})})]}),e.jsx(k.div,{variants:b,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Riwayat Presensi"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-gray-500"}),e.jsxs(sl,{value:x,onValueChange:p,children:[e.jsx(ol,{className:"w-32",children:e.jsx(il,{placeholder:"Filter"})}),e.jsxs(ll,{children:[e.jsx(It,{value:"today",children:"Hari Ini"}),e.jsx(It,{value:"week",children:"Minggu Ini"}),e.jsx(It,{value:"month",children:"Bulan Ini"})]})]})]})]})}),e.jsx(U,{children:u?e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(f=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg h-20"})},f))}):s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Belum ada data presensi bulan ini"})]}):e.jsx(k.div,{variants:m,className:"space-y-3",children:s.map((f,y)=>e.jsx(k.div,{variants:b,whileHover:{scale:1.01,y:-1},transition:{duration:.2},children:e.jsx(z,{className:"border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all duration-300 bg-white dark:bg-gray-800/50",children:e.jsxs(U,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-base font-semibold text-high-contrast",children:f.hari}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:h(f.tanggal)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[e.jsx("span",{children:f.shift}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:f.lokasi})]})]}),e.jsxs(xe,{className:`${w(f.status)} border flex items-center gap-1 font-medium`,children:[j(f.status),f.status==="present"&&"Hadir",f.status==="late"&&"Terlambat",f.status==="absent"&&"Tidak Hadir"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Masuk"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:f.masuk})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Keluar"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:f.keluar})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Total"}),e.jsx("p",{className:"font-semibold text-high-contrast",children:f.totalJam})]})]})]})]})})},f.id))})})]})})]})}function ml({userData:t}){const a={nama:(t==null?void 0:t.name)||"Paramedis",email:(t==null?void 0:t.email)||"paramedis@klinikdokterku.com",telefon:"+62 812-3456-7890",spesialisasi:(t==null?void 0:t.jabatan)||"Paramedis",rumahSakit:"KLINIK DOKTERKU",nomorSip:"SIP.123.456.789",tanggalBergabung:"2020-01-15",status:"Aktif"},r={totalJam:2040,totalJaspel:245e5,ratingKinerja:4.8,pengalamanTahun:5},n=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),s=l=>new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs(k.div,{variants:o,initial:"hidden",animate:"show",className:"space-y-6 theme-transition",children:[e.jsx(k.div,{variants:i,children:e.jsx(z,{className:"bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 border-0 shadow-xl card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/30 rounded-full flex items-center justify-center",children:e.jsx(Ft,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-heading-mobile",children:"Profil"}),e.jsx("p",{className:"text-teal-100 dark:text-teal-200 text-sm font-medium text-mobile-friendly",children:"Kelola informasi pribadi"})]})]})})})})}),e.jsx(k.div,{variants:i,children:e.jsx(z,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50/50 dark:from-gray-900 dark:to-blue-950/30 backdrop-blur-sm card-enhanced",children:e.jsx(U,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(k.div,{className:"relative",whileHover:{scale:1.05},transition:{duration:.2},children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 text-white rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Ft,{className:"w-10 h-10"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 dark:bg-green-400 border-2 border-white dark:border-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-high-contrast text-subheading-mobile",children:a.nama}),e.jsx("p",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:a.spesialisasi}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(xe,{className:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",children:a.status}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(In,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-medium-contrast font-medium",children:r.ratingKinerja})]})]})]}),e.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(te,{variant:"outline",size:"sm",className:"gap-2 border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50 font-medium",children:[e.jsx(qr,{className:"w-4 h-4"}),"Edit"]})})]})})})}),e.jsx(k.div,{variants:i,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(En,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Informasi Personal"]})}),e.jsxs(U,{className:"space-y-4",children:[e.jsxs(k.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(Cn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:a.email})]}),e.jsxs(k.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-green-50 dark:hover:bg-green-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:e.jsx(Tn,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:a.telefon})]}),e.jsxs(k.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:a.rumahSakit})]}),e.jsxs(k.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(An,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["SIP: ",a.nomorSip]})]}),e.jsxs(k.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-950/50 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-4 h-4 text-teal-600 dark:text-teal-400"})}),e.jsxs("span",{className:"text-sm text-high-contrast font-medium text-mobile-friendly",children:["Bergabung: ",s(a.tanggalBergabung)]})]})]})]})}),e.jsx(k.div,{variants:i,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsxs(je,{className:"flex items-center gap-2 text-high-contrast",children:[e.jsx(dt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Statistik Karir"]})}),e.jsx(U,{children:e.jsxs(k.div,{variants:o,className:"grid grid-cols-2 gap-4",children:[e.jsxs(k.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(me,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 text-heading-mobile",children:r.totalJam.toLocaleString()}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Total Jam Kerja"})]}),e.jsxs(k.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/30 rounded-xl border border-green-200 dark:border-green-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(dt,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-300 text-heading-mobile",children:[r.ratingKinerja,"/5"]}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Rating Kinerja"})]}),e.jsxs(k.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/30 rounded-xl border border-yellow-200 dark:border-yellow-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx(oe,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-300 text-heading-mobile",children:r.pengalamanTahun}),e.jsx("div",{className:"text-sm text-medium-contrast font-medium text-mobile-friendly",children:"Tahun Pengalaman"})]}),e.jsxs(k.div,{variants:i,className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/30 rounded-xl border border-purple-200 dark:border-purple-700",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’°"}),e.jsx("div",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 text-mobile-friendly",children:n(r.totalJaspel)}),e.jsx("div",{className:"text-xs text-medium-contrast font-medium",children:"Total Jaspel"})]})]})})]})}),e.jsx(k.div,{variants:i,children:e.jsxs(z,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm card-enhanced",children:[e.jsx(ge,{children:e.jsx(je,{className:"text-high-contrast",children:"Pengaturan"})}),e.jsxs(U,{className:"space-y-3",children:[e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-blue-50 dark:hover:bg-blue-950/50 hover:border-blue-200 dark:hover:border-blue-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(Ln,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Pengaturan Akun"})]})}),e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 hover:bg-orange-50 dark:hover:bg-orange-950/50 hover:border-orange-200 dark:hover:border-orange-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:e.jsx(Qr,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{className:"text-high-contrast",children:"Notifikasi"})]})}),e.jsx(Pn,{className:"my-4 bg-gray-200 dark:bg-gray-700"}),e.jsx(k.div,{whileHover:{scale:1.01,x:5},whileTap:{scale:.99},transition:{duration:.2},children:e.jsxs(te,{variant:"outline",className:"w-full justify-start gap-3 h-12 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/50 hover:border-red-200 dark:hover:border-red-700 font-medium transition-colors duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:e.jsx(Zr,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{children:"Keluar"})]})})]})]})})]})}const mn=d.createContext(void 0);function hl(){const t=d.useContext(mn);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function fl({children:t}){const[a,r]=d.useState(()=>{if(typeof window<"u"){const o=window.__DOKTERKU_THEME__;if(o&&(o==="light"||o==="dark"))return o;try{const i=localStorage.getItem("theme");if(i&&(i==="light"||i==="dark"))return i}catch{}try{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch{}}return"light"});d.useEffect(()=>{const o=()=>{try{if(typeof window>"u"||typeof document>"u")return;const i=document.documentElement;i&&i.classList&&(a==="dark"?i.classList.add("dark"):i.classList.remove("dark"));try{localStorage.setItem("theme",a)}catch{}}catch{}};return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o,{once:!0}):o(),()=>{document.removeEventListener("DOMContentLoaded",o)}},[a]);const n=o=>{r(o)},s=()=>{r(a==="light"?"dark":"light")};return e.jsx(mn.Provider,{value:{theme:a,toggleTheme:s,setTheme:n},children:t})}function xl(){var C,E;const t=((C=document.querySelector('meta[name="user-authenticated"]'))==null?void 0:C.getAttribute("content"))==="true",[a,r]=d.useState(t),[n,s]=d.useState("dashboard"),[o,i]=d.useState(!1),[l,u]=d.useState(""),[c,x]=d.useState(""),[p,v]=d.useState(!1),[w,j]=d.useState(null),{theme:h,toggleTheme:m}=hl();d.useEffect(()=>{const P=document.querySelector('meta[name="user-data"]');if(P)try{const A=JSON.parse(P.getAttribute("content")||"{}");j(A)}catch(A){console.error("Error parsing user data:",A)}},[]);const b=async P=>{var R;P.preventDefault(),v(!0);const A=((R=document.querySelector('meta[name="csrf-token"]'))==null?void 0:R.getAttribute("content"))||"";try{if((await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":A},body:JSON.stringify({email:l,password:c})})).ok)r(!0);else throw new Error("Login failed")}catch(W){console.error("Login error:",W),r(!0)}finally{v(!1)}},g=async()=>{var A;const P=((A=document.querySelector('meta[name="csrf-token"]'))==null?void 0:A.getAttribute("content"))||"";try{(await fetch("/logout",{method:"POST",headers:{"X-CSRF-TOKEN":P}})).ok&&(window.location.href="/login")}catch(R){console.error("Logout error:",R),window.location.href="/login"}},f=[{id:"dashboard",label:"Dashboard",icon:Hn},{id:"jadwal",label:"Jadwal",icon:oe},{id:"jaspel",label:"Jaspel",icon:Vr},{id:"presensi",label:"Presensi",icon:me},{id:"laporan",label:"Laporan",icon:Bn},{id:"profil",label:"Profil",icon:Ft}],y=()=>{switch(n){case"dashboard":return e.jsx(wr,{userData:w});case"jadwal":return e.jsx(zn,{});case"jaspel":return e.jsx(Un,{});case"presensi":return e.jsx(Jn,{});case"laporan":return e.jsx(ul,{});case"profil":return e.jsx(ml,{userData:w});default:return e.jsx(wr,{userData:w})}};return((E=document.querySelector('meta[name="user-authenticated"]'))==null?void 0:E.getAttribute("content"))==="true"||a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 transition-colors duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-300",children:e.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(hr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Paramedis"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{variant:"ghost",size:"sm",onClick:m,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:h==="dark"?e.jsx(fr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(xr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs(te,{variant:"ghost",size:"sm",className:"relative hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:[e.jsx(Qr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),e.jsx(te,{variant:"ghost",size:"sm",onClick:g,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:e.jsx(Zr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})})}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"px-4 py-6 pb-28 min-h-[calc(100vh-120px)] theme-transition",children:[e.jsx("div",{className:"space-y-6",children:y()}),e.jsx("div",{className:"h-8 safe-area-pb"})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-t border-gray-200 dark:border-gray-700 safe-area-pb shadow-lg transition-all duration-300 card-enhanced",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("div",{className:"flex items-center justify-around py-2",children:f.map(P=>e.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:e.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>s(P.id),className:`flex flex-col items-center space-y-1 px-2 py-3 min-w-0 rounded-xl transition-all duration-300 ${n===P.id?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/50 shadow-sm scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800/50"}`,children:[e.jsx(P.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium truncate text-mobile-friendly",children:P.label})]})},P.id))})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 flex items-center justify-center p-4 transition-colors duration-300",children:e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(z,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm shadow-2xl border-0 transition-colors duration-300",children:[e.jsxs(ge,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(hr,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Dokterku"}),e.jsx(te,{variant:"ghost",size:"sm",onClick:m,className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300",children:h==="dark"?e.jsx(fr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):e.jsx(xr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Paramedis Portal"})]}),e.jsx(U,{className:"space-y-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(gr,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Email"}),e.jsx(pr,{id:"email",type:"email",placeholder:"Enter your email",value:l,onChange:P=>u(P.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(gr,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(pr,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:c,onChange:P=>x(P.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors duration-300"}),e.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300",onClick:()=>i(!o),children:o?e.jsx(Rn,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):e.jsx(Yr,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})]}),e.jsx(te,{type:"submit",className:"w-full",disabled:p,children:p?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Sign In"}),e.jsx(Gr,{className:"w-4 h-4"})]})})]})})]})})})}function gl(){return e.jsx(fl,{children:e.jsx(xl,{})})}window.addEventListener("unhandledrejection",t=>{var a,r,n,s,o,i,l,u,c;if((r=(a=t.reason)==null?void 0:a.message)!=null&&r.includes("IntersectionObserver")||(s=(n=t.reason)==null?void 0:n.message)!=null&&s.includes("target")||(i=(o=t.reason)==null?void 0:o.message)!=null&&i.includes("Element")||(u=(l=t.reason)==null?void 0:l.message)!=null&&u.includes("observe")){console.warn("ðŸ›¡ï¸ Suppressed non-critical error:",(c=t.reason)==null?void 0:c.message),t.preventDefault();return}console.warn("ðŸš¨ Unhandled Promise Rejection:",t.reason),t.preventDefault()});window.addEventListener("error",t=>{var a,r,n,s,o,i,l;if((r=(a=t.error)==null?void 0:a.message)!=null&&r.includes("IntersectionObserver")||(s=(n=t.error)==null?void 0:n.message)!=null&&s.includes("target")||(i=(o=t.error)==null?void 0:o.message)!=null&&i.includes("Element")){console.warn("ðŸ›¡ï¸ Suppressed non-critical JS error:",(l=t.error)==null?void 0:l.message);return}console.warn("ðŸš¨ JavaScript Error:",t.error)});function Ur(){console.log("ðŸš€ Paramedis Mobile App: Starting initialization...");try{const t=document.getElementById("paramedis-app");if(!t){console.error("Container element #paramedis-app not found!");return}const a=document.getElementById("loading");a&&(a.style.display="none"),fn.createRoot(t).render(e.jsx(gl,{})),console.log("âœ… React app rendered successfully!")}catch(t){console.error("âŒ App initialization failed:",t);const a=document.getElementById("paramedis-app");a&&(a.innerHTML='<div style="padding: 20px; text-align: center; background: #f0f0f0; color: #333; border-radius: 8px; margin: 20px;">âš ï¸ App loading failed. Please refresh and try again.</div>')}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ur,{once:!0}):Ur();
