import{c as d,r as t,j as s,U as l,D as p,C as N,H as r,a as v,G as u,F as w,b as f}from"./user.js";const b=d("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),y=d("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),g=()=>{const[a,c]=t.useState({jaspel_monthly:0,jaspel_weekly:0,minutes_worked:0,shifts_this_month:0,paramedis_name:"Loading...",paramedis_specialty:"Paramedis",pending_jaspel:0,approved_jaspel:0,today_attendance:null}),[o,m]=t.useState(!0),[k,_]=t.useState(null);t.useEffect(()=>{h()},[]);const h=async()=>{var e;try{const n=await fetch("/test-paramedis-dashboard-api",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((e=window.laravelData)==null?void 0:e.csrfToken)||"",Accept:"application/json"}});if(n.ok){const j=await n.json();c(j)}}catch(n){console.error("Failed to fetch dashboard data:",n)}finally{m(!1)}},i=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),x=()=>{const e=new Date().getHours();return e<12?"Selamat Pagi":e<15?"Selamat Siang":e<18?"Selamat Sore":"Selamat Malam"};return o?s.jsxs("div",{className:"paramedis-dashboard-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading dashboard..."})]}):s.jsxs("div",{className:"paramedis-dashboard",children:[s.jsx("div",{className:"phone-frame",children:s.jsxs("div",{className:"phone-header",children:[s.jsxs("div",{className:"status-bar",children:[s.jsx("div",{className:"status-left",children:s.jsx("span",{className:"time",children:new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})}),s.jsxs("div",{className:"status-right",children:[s.jsx("div",{className:"signal-bars"}),s.jsx("div",{className:"battery"})]})]}),s.jsx("div",{className:"header-content",children:s.jsxs("div",{className:"header-info",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"greeting",children:x()}),s.jsx("h2",{className:"paramedis-name",children:a.paramedis_name}),s.jsxs("p",{className:"paramedis-specialty",children:["- ",a.paramedis_specialty]})]}),s.jsxs("div",{className:"profile-picture",children:[s.jsx("div",{className:"profile-inner",children:s.jsx(l,{size:20,className:"profile-icon"})}),s.jsx("div",{className:"online-status"})]})]})})]})}),s.jsxs("div",{className:"main-content",children:[s.jsxs("div",{className:"jaspel-main-card",children:[s.jsx("div",{className:"jaspel-header",children:s.jsx("p",{className:"jaspel-label",children:"ðŸ’° Total Jaspel Bulan Ini"})}),s.jsx("p",{className:"jaspel-amount",children:i(a.jaspel_monthly)}),a.growth_percent!==void 0&&s.jsxs("div",{className:"growth-indicator",style:{color:a.growth_percent>=0?"#10b981":"#ef4444",fontSize:"14px",fontWeight:"600",marginTop:"8px"},children:[a.growth_percent>=0?"+":"",a.growth_percent,"%",s.jsx("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"8px"},children:"vs bulan lalu"})]}),s.jsxs("div",{className:"jaspel-breakdown",children:[s.jsxs("div",{className:"breakdown-item approved",children:[s.jsx("span",{className:"status-indicator",children:"âœ…"}),s.jsx("span",{className:"breakdown-label",children:"Disetujui"}),s.jsx("span",{className:"breakdown-amount",children:i(a.approved_jaspel)})]}),s.jsxs("div",{className:"breakdown-item pending",children:[s.jsx("span",{className:"status-indicator",children:"â³"}),s.jsx("span",{className:"breakdown-label",children:"Pending"}),s.jsx("span",{className:"breakdown-amount",children:i(a.pending_jaspel)})]})]})]}),s.jsxs("div",{className:"stats-container",children:[s.jsxs("div",{className:"stat-card weekly-card",children:[s.jsx("div",{className:"stat-icon-container weekly-icon",children:s.jsx(p,{size:18,className:"stat-icon"})}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("p",{className:"stat-title",children:["Jaspel",s.jsx("br",{}),"Minggu Ini"]}),s.jsx("p",{className:"stat-value",children:i(a.jaspel_weekly)})]})]}),s.jsxs("div",{className:"stat-card minutes-card",children:[s.jsx("div",{className:"stat-icon-container minutes-icon",children:s.jsx(N,{size:18,className:"stat-icon"})}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("p",{className:"stat-title",children:["Jam Kerja",s.jsx("br",{}),"Bulan Ini"]}),s.jsxs("p",{className:"stat-value",children:[Math.round(a.minutes_worked/60)," Jam"]})]})]}),s.jsxs("div",{className:"stat-card shifts-card",children:[s.jsx("div",{className:"stat-icon-container shifts-icon",children:s.jsx(b,{size:18,className:"stat-icon"})}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("p",{className:"stat-title",children:["Shift",s.jsx("br",{}),"Bulan Ini"]}),s.jsxs("p",{className:"stat-value",children:[a.shifts_this_month," Hari"]})]})]})]}),s.jsxs("div",{className:"quick-actions",children:[s.jsxs("button",{className:"action-btn primary-action",onClick:()=>{window.location.href="/paramedis/pages/presensi-mobile"},children:[s.jsx("div",{className:"action-icon",children:s.jsx(y,{size:20})}),s.jsxs("div",{className:"action-content",children:[s.jsx("span",{className:"action-title",children:"Check In/Out"}),s.jsx("span",{className:"action-subtitle",children:"Presensi Harian"})]})]}),s.jsxs("button",{className:"action-btn secondary-action",onClick:()=>{window.location.href="/paramedis/resources/jaspels"},children:[s.jsx("div",{className:"action-icon",children:s.jsx(r,{size:20})}),s.jsxs("div",{className:"action-content",children:[s.jsx("span",{className:"action-title",children:"Lihat Riwayat"}),s.jsx("span",{className:"action-subtitle",children:"Data Jaspel"})]})]})]})]}),s.jsx("div",{className:"bottom-nav",children:s.jsxs("div",{className:"nav-container",children:[s.jsxs("div",{className:"nav-item active",onClick:()=>window.location.href="/paramedis",children:[s.jsx(v,{size:22,className:"nav-icon active-icon"}),s.jsx("span",{className:"nav-text active-text",children:"Beranda"})]}),s.jsxs("div",{className:"nav-item",onClick:()=>window.location.href="/paramedis/resources/attendances",children:[s.jsx(r,{size:22,className:"nav-icon"}),s.jsx("span",{className:"nav-text",children:"Riwayat"})]}),s.jsxs("div",{className:"nav-item",onClick:()=>window.location.href="/paramedis/resources/jaspels",children:[s.jsx("div",{className:"nav-highlight",children:s.jsx(u,{size:22,className:"nav-icon-white"})}),s.jsx("span",{className:"nav-text active-text",children:"Jaspel"})]}),s.jsxs("div",{className:"nav-item",onClick:()=>window.location.href="/paramedis/pages/presensi-mobile",children:[s.jsx(w,{size:22,className:"nav-icon"}),s.jsx("span",{className:"nav-text",children:"Presensi"})]}),s.jsxs("div",{className:"nav-item",onClick:()=>window.location.href="/paramedis",children:[s.jsx(l,{size:22,className:"nav-icon"}),s.jsx("span",{className:"nav-text",children:"Akun"})]})]})}),s.jsx("div",{className:"phone-bottom"})]})};document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("paramedis-dashboard-root");a&&f.createRoot(a).render(s.jsx(g,{}))});
